{"ast":null,"code":"var _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Onboarding/TransactionPin/index.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { submitPin } from \"#/store/onboarding/actions\";\nimport actionTypes from \"#/store/onboarding/actionTypes\";\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport PinInput from '#/components/PinInput';\nimport './style.scss';\n\nclass TransactionPin extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      errors: null,\n      pin: {},\n      confirmPin: {}\n    };\n\n    this.handleNextStep = e => {\n      e.preventDefault();\n      const {\n        history,\n        submitPin\n      } = this.props;\n      const {\n        pin,\n        confirmPin\n      } = this.state;\n      this.setState({\n        errors: null\n      });\n      const initialPin = [pin.value1, pin.value2, pin.value3, pin.value4].join('');\n      const confirm = [confirmPin.value1, confirmPin.value2, confirmPin.value3, confirmPin.value4].join('');\n\n      if (initialPin.length < 4 || confirm.length < 4) {\n        return this.setState({\n          errors: 'all fields are required'\n        });\n      }\n\n      if (initialPin !== confirm) {\n        return this.setState({\n          errors: 'pins are not equal'\n        });\n      }\n\n      submitPin({\n        pin: initialPin,\n        confirmPin: confirm\n      }, history);\n    };\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handlePin = pin => {\n      this.setState({\n        pin\n      });\n    };\n\n    this.handleConfirmPin = pin => {\n      this.setState({\n        confirmPin: pin\n      });\n    };\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    const {\n      error,\n      loading\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"transaction-pin-page text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, \"ACCOUNT SETUP\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, \"Set your transaction PIN\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, \"Keep your account and investments safe by setting a transction PIN.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, \"Enter your 4-digit PIN\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(PinInput, {\n      onChange: this.handlePin,\n      error: errors,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, \"Confirm your 4-digit PIN\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(PinInput, {\n      onChange: this.handleConfirmPin,\n      error: errors,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary w-100 mt-4\",\n      onClick: this.handleNextStep,\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, \"Set transaction PIN\", loading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border spinner-border-white spinner-border-sm ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    })), errors && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pin-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 24\n      }\n    }, errors), error && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pin-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 23\n      }\n    }, error))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const {\n    app: {\n      onboarding: {\n        error\n      }\n    }\n  } = state;\n  return {\n    loading: getActionLoadingState(state, actionTypes.SUBMIT_PIN_REQUEST),\n    error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    submitPin: (payload, history) => dispatch(submitPin(payload, history))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TransactionPin));","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Onboarding/TransactionPin/index.js"],"names":["React","withRouter","connect","submitPin","actionTypes","getActionLoadingState","PinInput","TransactionPin","Component","state","errors","pin","confirmPin","handleNextStep","e","preventDefault","history","props","setState","initialPin","value1","value2","value3","value4","join","confirm","length","handleChange","event","name","value","target","handlePin","handleConfirmPin","render","error","loading","mapStateToProps","app","onboarding","SUBMIT_PIN_REQUEST","mapDispatchToProps","dispatch","payload"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { submitPin  } from \"#/store/onboarding/actions\";\nimport actionTypes from \"#/store/onboarding/actionTypes\";\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport PinInput from '#/components/PinInput';\nimport './style.scss';\n\nclass TransactionPin extends React.Component {\n\n  state = {\n    errors: null,\n    pin: {},\n    confirmPin: {},\n  }\n\n  handleNextStep = (e) => {\n    e.preventDefault();\n    const { history, submitPin } = this.props;\n    const { pin, confirmPin } = this.state\n    this.setState({ errors: null })\n\n    const initialPin = [ pin.value1, pin.value2, pin.value3, pin.value4 ].join('');\n    const confirm = [ confirmPin.value1, confirmPin.value2, confirmPin.value3, confirmPin.value4 ].join('');\n\n    if (initialPin.length < 4 || confirm.length < 4) {\n      return this.setState({ errors: 'all fields are required'})\n    }\n    if ( initialPin !== confirm) {\n      return this.setState({ errors: 'pins are not equal'})\n    }\n    \n    submitPin({ pin: initialPin, confirmPin: confirm }, history);\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value })\n  }\n\n  handlePin = (pin) => {\n    this.setState({pin})\n  }\n\n  handleConfirmPin = (pin) => {\n    this.setState({ confirmPin: pin})\n  }\n\n  render() {\n    const { errors } = this.state\n    const { error, loading } = this.props;\n\n    return (\n      <div className=\"transaction-pin-page text-center\">\n        <h3>ACCOUNT SETUP</h3>\n        <div className=\"box text-left\">\n          <div className=\"container\">\n            <h3 className=\"mt-3\">Set your transaction PIN</h3>\n            <p>Keep your account and investments safe by setting a transction PIN.</p>\n            <div className=\"row\">\n              <div className=\"col-md-3\">\n                <p>Enter your 4-digit PIN</p>\n              </div>\n              <div className=\"col-md-9\">\n                <div className=\"w-100\">\n                  <PinInput onChange={this.handlePin} error={errors} />\n                </div>\n              </div>\n            </div>\n            <div className=\"row mt-3\">\n              <div className=\"col-md-3\">\n                <p>Confirm your 4-digit PIN</p>\n              </div>\n              <div className=\"col-md-9\">\n                <div className=\"w-100\">\n                  <PinInput onChange={this.handleConfirmPin} error={errors} />\n                </div>\n              </div>\n            </div>\n            <button className=\"btn btn-sm btn-primary w-100 mt-4\" onClick={this.handleNextStep} disabled={loading}>\n              Set transaction PIN\n              {loading &&\n                <div className=\"spinner-border spinner-border-white spinner-border-sm ml-2\"></div>\n              }\n            </button>\n            {errors && <p className=\"pin-error\">{errors}</p>}\n            {error && <p className=\"pin-error\">{error}</p>}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const { app: { onboarding: { error } } } = state;\n\n  return {\n    loading: getActionLoadingState(state, actionTypes.SUBMIT_PIN_REQUEST),\n    error\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    submitPin: (payload, history) => dispatch(submitPin(payload, history)),\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TransactionPin));\n"]},"metadata":{},"sourceType":"module"}