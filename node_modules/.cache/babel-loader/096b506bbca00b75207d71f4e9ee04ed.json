{"ast":null,"code":"var _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Cards/index.js\";\nimport React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Back from '#/components/Back';\nimport Card from '#/components/Card';\nimport DebitCard from '#/components/DebitCard';\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport { getCards, depositFunds, depositFundsCard } from '#/store/wallet/actions';\nimport actionTypes from '#/store/wallet/actionTypes';\nimport './style.scss';\n\nclass Cards extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleDeposit = () => {\n      const {\n        location: {\n          state\n        }\n      } = this.props.history;\n      const payload = {\n        amount: state === null || state === void 0 ? void 0 : state.amount,\n        currency: 'NGN'\n      };\n      this.props.depositFunds(payload);\n    };\n\n    this.handleSelectCard = card => {\n      const {\n        location: {\n          state\n        }\n      } = this.props.history;\n      const payload = {\n        amount: state === null || state === void 0 ? void 0 : state.amount,\n        cardId: card.id\n      };\n      this.props.depositFundsCard(payload, this.props.history);\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.history.location.state) {\n      this.props.history.goBack();\n    }\n\n    this.props.getCards();\n  }\n\n  render() {\n    const {\n      loading,\n      cards,\n      payLoading,\n      error\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"select-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Back, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"text-medium text-deep-blue \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, \"Select a Card\"))), /*#__PURE__*/React.createElement(Card, {\n      classes: \"mt-4 col col-md-9 ml-auto mr-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }, !cards && loading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border text-primary spinner-border-md text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    })), cards && cards.cards.length > 0 && cards.cards.map(card => /*#__PURE__*/React.createElement(DebitCard, {\n      card: card,\n      handleSelect: this.handleSelectCard,\n      key: card.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    })), !loading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center cursor-pointer\",\n      onClick: this.handleDeposit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: require('#/assets/icons/add-card.svg'),\n      className: \"img-fluid mr-3\",\n      alt: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-deep-blue text-medium mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \"Add money from a new debit card\")), /*#__PURE__*/React.createElement(\"img\", {\n      src: require('#/assets/icons/right-arrow.svg'),\n      className: \"img-fluid cursor-pointer\",\n      alt: \"arrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    }))), error && typeof error === 'string' && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-error mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 50\n      }\n    }, error), payLoading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border text-primary spinner-border-md text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const {\n    app: {\n      wallet: {\n        cards,\n        error\n      }\n    }\n  } = state;\n  return {\n    loading: getActionLoadingState(state, actionTypes.GET_ALL_CARDS_REQUEST),\n    payLoading: getActionLoadingState(state, actionTypes.DEPOSIT_CARD_REQUEST),\n    cards,\n    error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getCards: () => dispatch(getCards()),\n    depositFunds: payload => dispatch(depositFunds(payload)),\n    depositFundsCard: (payload, history) => dispatch(depositFundsCard(payload, history))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Cards));","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Cards/index.js"],"names":["React","withRouter","connect","Back","Card","DebitCard","getActionLoadingState","getCards","depositFunds","depositFundsCard","actionTypes","Cards","Component","handleDeposit","location","state","props","history","payload","amount","currency","handleSelectCard","card","cardId","id","componentDidMount","goBack","render","loading","cards","payLoading","error","length","map","require","mapStateToProps","app","wallet","GET_ALL_CARDS_REQUEST","DEPOSIT_CARD_REQUEST","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Back from '#/components/Back';\nimport Card from '#/components/Card';\nimport DebitCard from '#/components/DebitCard';\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport { getCards, depositFunds, depositFundsCard } from '#/store/wallet/actions'\nimport actionTypes from '#/store/wallet/actionTypes';\nimport './style.scss';\n\nclass Cards extends React.Component {\n\n  componentDidMount () {\n    if(!this.props.history.location.state) {\n      this.props.history.goBack();\n    }\n    this.props.getCards();\n  }\n\n  handleDeposit = () => {\n    const { location: { state } } = this.props.history\n    const payload = { amount: state?.amount, currency: 'NGN' }\n\n    this.props.depositFunds(payload)\n  }\n\n  handleSelectCard = (card) => {\n    const { location: { state } } = this.props.history\n    const payload = { amount: state?.amount, cardId: card.id }\n    this.props.depositFundsCard(payload, this.props.history)\n  }\n\n  render() {\n    const { loading, cards, payLoading, error } = this.props;\n\n    return (\n      <div className=\"select-card\">\n        <div className=\"row\">\n          <div className=\"col-md-2\">\n            <Back />\n          </div>\n          <div className=\"col-md-8 text-center\">\n            <h3 className=\"text-medium text-deep-blue \">Select a Card</h3>\n          </div>\n        </div>\n        <Card classes=\"mt-4 col col-md-9 ml-auto mr-auto\">\n          <div className=\"p-3\">\n            {!cards && loading && \n            <div className=\"d-flex justify-content-center mt-5\">\n              <div className=\"spinner-border text-primary spinner-border-md text-center\"></div>\n            </div>\n            }\n\n          {\n            cards &&\n            cards.cards.length > 0 && \n            cards.cards.map(card => (\n              <DebitCard card={card} handleSelect={this.handleSelectCard} key={card.id}/> \n            ))\n          }\n          {\n            !loading &&\n            <div className=\"d-flex justify-content-between align-items-center cursor-pointer\" onClick={this.handleDeposit}>\n              <div className=\"d-flex align-items-center\">\n                <img src={require('#/assets/icons/add-card.svg')} className=\"img-fluid mr-3\" alt=\"card\"/>\n                <p className=\"text-deep-blue text-medium mb-0\">Add money from a new debit card</p>\n              </div>\n              <img src={require('#/assets/icons/right-arrow.svg')} className=\"img-fluid cursor-pointer\" alt=\"arrow\"/>\n            </div>\n          }\n          </div>\n          {error && typeof error === 'string' && <p className=\"text-error mt-2\">{error}</p>}\n          {payLoading && \n            <div className=\"d-flex justify-content-center mt-4\">\n              <div className=\"spinner-border text-primary spinner-border-md text-center\"></div>\n            </div>\n            }\n        </Card>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { app: { wallet: { cards, error } } } = state;\n\n  return {\n    loading: getActionLoadingState(state, actionTypes.GET_ALL_CARDS_REQUEST),\n    payLoading: getActionLoadingState(state, actionTypes.DEPOSIT_CARD_REQUEST),\n    cards,\n    error\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getCards: () => dispatch(getCards()),\n    depositFunds: (payload) => dispatch(depositFunds(payload)),\n    depositFundsCard: (payload, history) => dispatch(depositFundsCard(payload, history))\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Cards));\n"]},"metadata":{},"sourceType":"module"}