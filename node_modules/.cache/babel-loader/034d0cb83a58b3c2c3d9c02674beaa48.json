{"ast":null,"code":"var _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Onboarding/OneTimePassword/index.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport actionTypes from \"#/store/onboarding/actionTypes\";\nimport { submitOtp } from '#/store/onboarding/actions';\nimport PinInput from '#/components/PinInput';\nimport './style.scss';\n\nclass OneTimePassword extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      errors: null,\n      pin: {}\n    };\n\n    this.handleNextStep = e => {\n      e.preventDefault();\n      const {\n        pin: {\n          value1,\n          value2,\n          value3,\n          value4\n        }\n      } = this.state;\n      const {\n        history,\n        submitOtp\n      } = this.props;\n      this.setState({\n        errors: null\n      });\n      const token = [value1, value2, value3, value4].join('');\n\n      if (token.length < 4) {\n        return this.setState({\n          errors: 'all fields are required'\n        });\n      }\n\n      submitOtp({\n        token\n      }, history);\n    };\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handlePin = pin => {\n      this.setState({\n        pin\n      });\n    };\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    const {\n      error,\n      loading\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"one-time-password-page text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, \"ACCOUNT SETUP\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, \"Enter One-Time Password (OTP)\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, \"A One-Time Password has been sent to the email and phone number attached to your Bank Verification Number (BVN). Please enter the 4-digit number sent.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ml-auto mr-auto w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PinInput, {\n      onChange: this.handlePin,\n      error: errors,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary w-100 mt-4\",\n      onClick: this.handleNextStep,\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, \"Proceed\", loading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border spinner-border-white spinner-border-sm ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    })), errors && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"otp-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 24\n      }\n    }, errors), error && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"otp-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 23\n      }\n    }, error))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const {\n    app: {\n      onboarding: {\n        error\n      }\n    }\n  } = state;\n  return {\n    loading: getActionLoadingState(state, actionTypes.SUBMIT_OTP_REQUEST),\n    error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    submitOtp: (payload, history) => dispatch(submitOtp(payload, history))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(OneTimePassword));","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Onboarding/OneTimePassword/index.js"],"names":["React","withRouter","connect","getActionLoadingState","actionTypes","submitOtp","PinInput","OneTimePassword","Component","state","errors","pin","handleNextStep","e","preventDefault","value1","value2","value3","value4","history","props","setState","token","join","length","handleChange","event","name","value","target","handlePin","render","error","loading","mapStateToProps","app","onboarding","SUBMIT_OTP_REQUEST","mapDispatchToProps","dispatch","payload"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport actionTypes from \"#/store/onboarding/actionTypes\";\nimport { submitOtp } from '#/store/onboarding/actions';\nimport PinInput from '#/components/PinInput';\nimport './style.scss';\n\nclass OneTimePassword extends React.Component {\n\n  state = {\n    errors: null,\n    pin: {},\n  }\n\n  handleNextStep = (e) => {\n    e.preventDefault();\n    const { pin: { value1, value2, value3, value4  } } = this.state\n    const { history, submitOtp } = this.props;\n    this.setState({ errors: null })\n    const token = [ value1, value2, value3, value4 ].join('');\n    if (token.length < 4) {\n      return this.setState({ errors: 'all fields are required'})\n    }\n    submitOtp({ token }, history);\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value })\n  }\n\n  handlePin = (pin) => {\n    this.setState({pin})\n  }\n\n  render() {\n    const { errors } = this.state\n    const { error, loading } = this.props;\n    return (\n      <div className=\"one-time-password-page text-center\">\n        <h3>ACCOUNT SETUP</h3>\n        <div className=\"box\">\n          <div className=\"container\">\n            <h3 className=\"mt-3\">Enter One-Time Password (OTP)</h3>\n            <p>A One-Time Password has been sent to the email and phone number attached to your Bank Verification Number (BVN). Please enter the 4-digit number sent.</p>\n            <div className=\"ml-auto mr-auto w-100\">\n              <PinInput onChange={this.handlePin} error={errors} />\n            </div>\n            <button className=\"btn btn-sm btn-primary w-100 mt-4\" onClick={this.handleNextStep} disabled={loading}>\n              Proceed\n              {loading &&\n                <div className=\"spinner-border spinner-border-white spinner-border-sm ml-2\"></div>\n              }\n            </button>\n            {errors && <p className=\"otp-error\">{errors}</p>}\n            {error && <p className=\"otp-error\">{error}</p>}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const { app: { onboarding: { error } } } = state;\n\n  return {\n    loading: getActionLoadingState(state, actionTypes.SUBMIT_OTP_REQUEST),\n    error\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    submitOtp: (payload, history) => dispatch(submitOtp(payload, history)),\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(OneTimePassword));\n"]},"metadata":{},"sourceType":"module"}