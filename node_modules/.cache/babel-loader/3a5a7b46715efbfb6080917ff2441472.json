{"ast":null,"code":"var _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Portfolio/index.js\";\nimport React from 'react';\nimport { withRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { Doughnut } from 'react-chartjs-2';\nimport { connect } from \"react-redux\";\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport actionTypes from \"#/store/portfolio/actionTypes\";\nimport { fetchPortfolio } from '#/store/portfolio/actions';\nimport DashboardBodyMenu from '#/components/DashboardBodyMenu';\nimport Card from '#/components/Card';\nimport TermedInvestments from './TermedInvestments';\nimport FinancialInstruments from './FinancialInstruments';\nimport SingleInvestment from './SingleInvestment';\nimport LiquidateInvestment from './LiquidateInvestment';\nimport { portfolioPieOptions, formatCurrency, isNegative, portfolioPie } from '#/utils';\n\nclass Portfolio extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedStatus: 'all'\n    };\n\n    this.handleChangestatus = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      const {\n        history: {\n          location\n        }\n      } = this.props;\n      this.setState({\n        [name]: value\n      }, () => {\n        if (location.pathname === '/app/portfolio/termed-investments') {\n          return this.props.fetchPortfolio(`${value}`);\n        }\n\n        return;\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchPortfolio('all');\n  }\n\n  render() {\n    var _data$portfolios, _data$portfolios$port, _data$portfolios2, _data$portfolios3, _data$portfolios4, _data$portfolios5, _data$portfolios6, _data$portfolios7, _data$portfolios8, _data$portfolios9, _data$portfolios10, _data$portfolios11, _data$portfolios12, _data$portfolios13, _data$portfolios14, _data$portfolios15, _data$portfolios16, _data$portfolios17;\n\n    const {\n      match: {\n        path\n      },\n      data,\n      loading,\n      location,\n      wallet\n    } = this.props;\n    const walletValue = wallet ? parseInt(wallet.replaceAll(',', ''), 10) : 0;\n    const menus = [{\n      name: 'Termed Investments',\n      path: '/app/portfolio/termed-investments',\n      title: 'Portfolio'\n    } // {\n    //   name: 'Financial Instruments',\n    //   path: '/app/portfolio/financial-instruments',\n    //   title: 'Portfolio',\n    // },\n    ];\n    const {\n      selectedStatus\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: path,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: `${path}/termed-investments`,\n        state: {\n          routeName: 'Portfolio'\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    })), (location.pathname.split('/').includes('termed-investments') || location.pathname.split('/').includes('financial-instruments')) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"portfiolio-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mt-0 flex-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(DashboardBodyMenu, {\n      menus: menus,\n      classes: \"mt-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"selectbox p-1 text-small border-grey text-black\",\n      defaultValue: selectedStatus,\n      name: \"selectedStatus\",\n      onChange: this.handleChangestatus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"all\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 23\n      }\n    }, \"All\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 23\n      }\n    }, \"Active\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"booked\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 23\n      }\n    }, \"Booked\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"matured\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 23\n      }\n    }, \"Matured\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"cancelled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 23\n      }\n    }, \"Cancelled\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"terminated\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 23\n      }\n    }, \"Terminated\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: `${path}/termed-investments`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(TermedInvestments, {\n      investments: data === null || data === void 0 ? void 0 : data.investments,\n      loading: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: `${path}/financial-instruments`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(FinancialInstruments, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"text-deep-blue text-small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }, \"Portfolio Allocation\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    }, !walletValue && !(data === null || data === void 0 ? void 0 : (_data$portfolios = data.portfolios) === null || _data$portfolios === void 0 ? void 0 : (_data$portfolios$port = _data$portfolios.portfolioWorth) === null || _data$portfolios$port === void 0 ? void 0 : _data$portfolios$port.amount) ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-center text-grey\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 23\n      }\n    }, \"No Investment data yet\")) : /*#__PURE__*/React.createElement(Doughnut, {\n      data: portfolioPie(walletValue, data === null || data === void 0 ? void 0 : (_data$portfolios2 = data.portfolios) === null || _data$portfolios2 === void 0 ? void 0 : _data$portfolios2.portfolioWorth.amount),\n      options: portfolioPieOptions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Card, {\n      classes: \"border-blue mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-grey text-small mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 23\n      }\n    }, \"Total Portfolio Value\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-deep-blue text-large mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 23\n      }\n    }, \"\\u20A6\", data && ((_data$portfolios3 = data.portfolios) === null || _data$portfolios3 === void 0 ? void 0 : _data$portfolios3.portfolioWorth) ? formatCurrency((_data$portfolios4 = data.portfolios) === null || _data$portfolios4 === void 0 ? void 0 : _data$portfolios4.portfolioWorth.amount) : 0), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-2 align-items-baseline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: isNegative(data && (data === null || data === void 0 ? void 0 : (_data$portfolios5 = data.portfolios) === null || _data$portfolios5 === void 0 ? void 0 : _data$portfolios5.portfolioWorth.percentageDiff)) === 'neutral' ? require('#/assets/icons/flatline.svg') : isNegative(data && (data === null || data === void 0 ? void 0 : (_data$portfolios6 = data.portfolios) === null || _data$portfolios6 === void 0 ? void 0 : _data$portfolios6.totalReturns.percentageDiff)) ? require('#/assets/icons/fall-red-small.svg') : require('#/assets/icons/rise-green.svg'),\n      className: \"img-fluid mr-2\",\n      alt: \"difference\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: `text-small  mr-2 mb-0 \n                          ${isNegative(data && (data === null || data === void 0 ? void 0 : (_data$portfolios7 = data.portfolios) === null || _data$portfolios7 === void 0 ? void 0 : _data$portfolios7.portfolioWorth.percentageDiff)) === 'neutral' ? 'text-grey' : isNegative(data && (data === null || data === void 0 ? void 0 : (_data$portfolios8 = data.portfolios) === null || _data$portfolios8 === void 0 ? void 0 : _data$portfolios8.portfolioWorth.percentageDiff)) ? 'text-red' : 'text-green'}\n                          `,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, data && (data === null || data === void 0 ? void 0 : (_data$portfolios9 = data.portfolios) === null || _data$portfolios9 === void 0 ? void 0 : _data$portfolios9.portfolioWorth.percentageDiff), \"%\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: `text-small mb-0 \n                        ${isNegative(data && (data === null || data === void 0 ? void 0 : (_data$portfolios10 = data.portfolios) === null || _data$portfolios10 === void 0 ? void 0 : _data$portfolios10.portfolioWorth.percentageDiff)) === 'neutral' ? 'text-grey' : isNegative(data && (data === null || data === void 0 ? void 0 : (_data$portfolios11 = data.portfolios) === null || _data$portfolios11 === void 0 ? void 0 : _data$portfolios11.portfolioWorth.percentageDiff)) ? 'text-red' : 'text-green'}\n                        `,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, \"(Last 7 days)\"))), /*#__PURE__*/React.createElement(Card, {\n      classes: \"bg-default mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-white text-small mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 23\n      }\n    }, \"Total Returns\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-white text-large mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 23\n      }\n    }, \"\\u20A6\", data && ((_data$portfolios12 = data.portfolios) === null || _data$portfolios12 === void 0 ? void 0 : _data$portfolios12.totalReturns) ? formatCurrency((_data$portfolios13 = data.portfolios) === null || _data$portfolios13 === void 0 ? void 0 : _data$portfolios13.totalReturns.amount) : 0), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mt-2 align-items-baseline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: isNegative(data && (data === null || data === void 0 ? void 0 : (_data$portfolios14 = data.portfolios) === null || _data$portfolios14 === void 0 ? void 0 : _data$portfolios14.portfolioWorth.percentageDiff) === 'neutral') ? require('#/assets/icons/flatline-white.svg') : isNegative(data && (data === null || data === void 0 ? void 0 : (_data$portfolios15 = data.portfolios) === null || _data$portfolios15 === void 0 ? void 0 : _data$portfolios15.totalReturns.percentageDiff)) ? require('#/assets/icons/fall-white-small.svg') : require('#/assets/icons/rise-white-small.svg'),\n      className: \"img-fluid mr-2\",\n      alt: \"difference\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-small text-white mr-2 mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }, data && ((_data$portfolios16 = data.portfolios) === null || _data$portfolios16 === void 0 ? void 0 : _data$portfolios16.totalReturns) ? (_data$portfolios17 = data.portfolios) === null || _data$portfolios17 === void 0 ? void 0 : _data$portfolios17.totalReturns.percentageDiff : 0, \"%\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-small text-white mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }\n    }, \"(Last 7 days)\"))))))))), /*#__PURE__*/React.createElement(Route, {\n      path: `${path}/investment/:investmentId`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(SingleInvestment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: `${path}/liquidate/:investmentId`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(LiquidateInvestment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  var _walletDetails$wallet;\n\n  const {\n    app: {\n      portfolio: {\n        data\n      },\n      wallet: {\n        walletDetails\n      }\n    }\n  } = state;\n  return {\n    loading: getActionLoadingState(state, actionTypes.FETCH_PORTFOLIO_REQUEST),\n    data,\n    wallet: walletDetails === null || walletDetails === void 0 ? void 0 : (_walletDetails$wallet = walletDetails.wallet) === null || _walletDetails$wallet === void 0 ? void 0 : _walletDetails$wallet.NGN\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchPortfolio: status => dispatch(fetchPortfolio(status))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Portfolio));","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Portfolio/index.js"],"names":["React","withRouter","Route","Switch","Redirect","Doughnut","connect","getActionLoadingState","actionTypes","fetchPortfolio","DashboardBodyMenu","Card","TermedInvestments","FinancialInstruments","SingleInvestment","LiquidateInvestment","portfolioPieOptions","formatCurrency","isNegative","portfolioPie","Portfolio","Component","state","selectedStatus","handleChangestatus","event","name","value","target","history","location","props","setState","pathname","componentDidMount","render","match","path","data","loading","wallet","walletValue","parseInt","replaceAll","menus","title","routeName","split","includes","investments","portfolios","portfolioWorth","amount","percentageDiff","require","totalReturns","mapStateToProps","app","portfolio","walletDetails","FETCH_PORTFOLIO_REQUEST","NGN","mapDispatchToProps","dispatch","status"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { Doughnut } from 'react-chartjs-2';\nimport { connect } from \"react-redux\";\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport actionTypes from \"#/store/portfolio/actionTypes\";\nimport { fetchPortfolio } from '#/store/portfolio/actions'\nimport DashboardBodyMenu from '#/components/DashboardBodyMenu';\nimport Card from '#/components/Card';\nimport TermedInvestments from './TermedInvestments';\nimport FinancialInstruments from './FinancialInstruments';\nimport SingleInvestment from './SingleInvestment';\nimport LiquidateInvestment from './LiquidateInvestment';\nimport { portfolioPieOptions, formatCurrency, isNegative, portfolioPie } from '#/utils';\n\nclass Portfolio extends React.Component {\n\n  state = {\n    selectedStatus: 'all',\n  }\n\n  handleChangestatus = (event) => {\n    const { name, value } = event.target\n    const { history: { location } } = this.props;\n    this.setState({ [name]: value }, () => {\n      if (location.pathname === '/app/portfolio/termed-investments') {\n        return this.props.fetchPortfolio(`${value}`)\n      }\n      return;\n    });\n  }\n\n  componentDidMount() {\n    this.props.fetchPortfolio('all');\n  }\n\n  render() {\n    const { match: { path }, data, loading, location, wallet } = this.props;\n    const walletValue = wallet ? parseInt(wallet.replaceAll(',', ''), 10) : 0;\n\n    const menus = [\n      {\n        name: 'Termed Investments',\n        path: '/app/portfolio/termed-investments',\n        title: 'Portfolio',\n      },\n      // {\n      //   name: 'Financial Instruments',\n      //   path: '/app/portfolio/financial-instruments',\n      //   title: 'Portfolio',\n      // },\n    ]\n    const { selectedStatus } = this.state;\n    return (\n      <Switch>\n        <Route exact path={path}>\n          <Redirect to={{ pathname:`${path}/termed-investments`, state: { routeName: 'Portfolio' }}} />\n        </Route>\n        {(location.pathname.split('/').includes('termed-investments')\n          || location.pathname.split('/').includes('financial-instruments'))\n          &&\n        <>\n          <div className=\"portfiolio-page\">\n            <div className=\"row\">\n              <div className=\"col-md-8 mt-3\">\n                <div className=\"card p-3\">\n                  <div className=\"d-flex justify-content-between align-items-center mt-0 flex-wrap\">\n                    <DashboardBodyMenu menus={menus} classes=\"mt-0\" />\n                    <select className=\"selectbox p-1 text-small border-grey text-black\" defaultValue={selectedStatus} name=\"selectedStatus\" onChange={this.handleChangestatus}>\n                      <option value=\"all\">All</option>\n                      <option value=\"active\">Active</option>\n                      <option value=\"booked\">Booked</option>\n                      <option value=\"matured\">Matured</option>\n                      <option value=\"cancelled\">Cancelled</option>\n                      <option value=\"terminated\">Terminated</option>\n                    </select>\n                  </div>\n                  <div className=\"mt-2\">\n                    <Switch>\n                      <Route path={`${path}/termed-investments`}>\n                        <TermedInvestments investments={data?.investments} loading={loading} />\n                      </Route>\n                      <Route path={`${path}/financial-instruments`}>\n                        <FinancialInstruments />\n                      </Route>\n                    </Switch>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-md-4 mt-3\">\n                <div className=\"card p-4\">\n                  <h3 className=\"text-deep-blue text-small\">Portfolio Allocation</h3>\n                  <div className=\"mt-4\">\n                  { !walletValue && !data?.portfolios?.portfolioWorth?.amount ?\n                    <div className=\"d-flex justify-content-center w-100\">\n                      <p className=\"text-center text-grey\">No Investment data yet</p>\n                    </div>\n                    :\n                    <Doughnut data={portfolioPie(walletValue, data?.portfolios?.portfolioWorth.amount )} options={portfolioPieOptions} />\n                  }\n                    <Card classes=\"border-blue mt-3\">\n                      <p className=\"text-grey text-small mb-0\">Total Portfolio Value</p>\n                      <p className=\"text-deep-blue text-large mb-0\">&#x20A6;{data && data.portfolios?.portfolioWorth ? formatCurrency(data.portfolios?.portfolioWorth.amount) : 0}</p>\n                      <div className=\"d-flex mt-2 align-items-baseline\">\n                        <img\n                          src={isNegative(data && data?.portfolios?.portfolioWorth.percentageDiff) === 'neutral' \n                          ? require('#/assets/icons/flatline.svg') :\n                            isNegative(data && data?.portfolios?.totalReturns.percentageDiff)\n                            ? require('#/assets/icons/fall-red-small.svg')\n                            : require('#/assets/icons/rise-green.svg')\n                          }\n                          className=\"img-fluid mr-2\"\n                          alt=\"difference\" />\n                        <p\n                          className={`text-small  mr-2 mb-0 \n                          ${isNegative(data && data?.portfolios?.portfolioWorth.percentageDiff) === 'neutral' ? 'text-grey' :\n                          isNegative(data && data?.portfolios?.portfolioWorth.percentageDiff) ? 'text-red' : 'text-green'}\n                          `}\n                        >\n                          {data && data?.portfolios?.portfolioWorth.percentageDiff}%\n                        </p>\n                        <p \n                        className={`text-small mb-0 \n                        ${isNegative(data && data?.portfolios?.portfolioWorth.percentageDiff) === 'neutral' ? 'text-grey' :\n                        isNegative(data && data?.portfolios?.portfolioWorth.percentageDiff) ? 'text-red' : 'text-green'}\n                        `}>\n                          (Last 7 days)\n                    </p>\n                      </div>\n                    </Card>\n\n                    <Card classes=\"bg-default mt-3\">\n                      <p className=\"text-white text-small mb-0\">Total Returns</p>\n                      <p className=\"text-white text-large mb-0\">&#x20A6;{data && data.portfolios?.totalReturns ? formatCurrency(data.portfolios?.totalReturns.amount) : 0}</p>\n                      <div className=\"d-flex mt-2 align-items-baseline\">\n                        <img\n                          src={isNegative(data && data?.portfolios?.portfolioWorth.percentageDiff === 'neutral') \n                          ? require('#/assets/icons/flatline-white.svg') :\n                            isNegative(data && data?.portfolios?.totalReturns.percentageDiff)\n                            ? require('#/assets/icons/fall-white-small.svg')\n                            : require('#/assets/icons/rise-white-small.svg')\n                          }\n                          className=\"img-fluid mr-2\"\n                          alt=\"difference\" />\n                        <p className=\"text-small text-white mr-2 mb-0\">\n                          {data && data.portfolios?.totalReturns ? data.portfolios?.totalReturns.percentageDiff : 0}%\n                        </p>\n                        <p className=\"text-small text-white mb-0\">(Last 7 days)</p>\n                      </div>\n                    </Card>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n        }\n        <Route path={`${path}/investment/:investmentId`} >\n          <SingleInvestment />\n        </Route>\n        <Route path={`${path}/liquidate/:investmentId`} >\n          <LiquidateInvestment />\n        </Route>\n      </Switch>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const { app: { portfolio: { data }, wallet: { walletDetails } } } = state;\n\n  return {\n    loading: getActionLoadingState(state, actionTypes.FETCH_PORTFOLIO_REQUEST),\n    data,\n    wallet: walletDetails?.wallet?.NGN,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchPortfolio: (status) => dispatch(fetchPortfolio(status)),\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Portfolio));\n"]},"metadata":{},"sourceType":"module"}