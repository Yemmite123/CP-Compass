{"ast":null,"code":"var _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/SingleInsight/index.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport moment from 'moment';\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport actionTypes from \"#/store/blog/actionTypes\";\nimport { getSinglePost, getComments, postComment, replyComment, likeComment } from '#/store/blog/actions';\nimport { showAlert } from '#/store/ui/actions';\nimport Back from '#/components/Back';\nimport CommentItem from '#/components/CommentItem';\nimport Modal from '#/components/Modal';\nimport Textbox from '#/components/Textbox';\nimport BlogItem from '#/components/BlogItem';\nimport AdminImg from \"#/assets/images/admin-default-img.svg\";\nimport DefaultImg from \"#/assets/icons/profile-icon.svg\";\nimport CopyLink from \"#/assets/icons/copy-link.svg\";\nimport { validateFields, serializeErrors } from '#/utils';\nimport { EmailShareButton, EmailIcon, FacebookShareButton, FacebookIcon // LinkedinShareButton,\n, LinkedinIcon, WhatsappShareButton, WhatsappIcon, TwitterShareButton, TwitterIcon } from \"react-share\";\nimport './style.scss';\nimport CONFIG from '#/config';\n\nclass SingleInsight extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.contentRef = React.createRef();\n    this.state = {\n      comment: '',\n      errors: null,\n      commentPage: 1,\n      commentLimit: 10,\n      comments: [],\n      replyModal: false,\n      selectedComment: null,\n      commentReply: '',\n      email: \"\"\n    };\n\n    this.updateComments = data => {\n      this.setState({\n        comments: data\n      });\n    };\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handlePostComment = event => {\n      const {\n        match: {\n          params\n        },\n        postComment,\n        getComments\n      } = this.props;\n      const {\n        comment,\n        commentPage,\n        commentLimit\n      } = this.state;\n      event.preventDefault();\n      this.setState({\n        errors: null\n      });\n      const data = this.state;\n      const required = ['comment'];\n      const errors = validateFields(data, required);\n\n      if (Object.keys(errors).length > 0) {\n        return this.setState({\n          errors\n        });\n      }\n\n      postComment(params.slug, {\n        comment\n      }).then(data => {\n        this.setState({\n          comment: ''\n        });\n        getComments(params.slug, commentPage, commentLimit).then(data => {\n          this.updateComments(data === null || data === void 0 ? void 0 : data.data);\n        });\n      });\n    };\n\n    this.handlePostReply = event => {\n      event.preventDefault();\n      const {\n        match: {\n          params\n        },\n        replyComment,\n        getComments\n      } = this.props;\n      const {\n        selectedComment,\n        commentReply,\n        commentPage,\n        commentLimit\n      } = this.state;\n      this.setState({\n        errors: null\n      });\n      const data = this.state;\n      const required = ['commentReply'];\n      const errors = validateFields(data, required);\n\n      if (Object.keys(errors).length > 0) {\n        return this.setState({\n          errors\n        });\n      }\n\n      replyComment(params.slug, selectedComment, {\n        comment: commentReply\n      }).then(data => {\n        this.setState({\n          commentReply: ''\n        });\n        this.toggleReplyModal();\n        getComments(params.slug, commentPage, commentLimit).then(data => {\n          this.updateComments(data === null || data === void 0 ? void 0 : data.data);\n        });\n      });\n    };\n\n    this.handleReply = comment => {\n      this.setState({\n        selectedComment: comment\n      });\n      this.toggleReplyModal();\n    };\n\n    this.toggleReplyModal = () => {\n      this.setState(prevState => ({\n        replyModal: !prevState.replyModal\n      }));\n    };\n\n    this.handleLikeComment = (commentId, type) => {\n      const {\n        match: {\n          params\n        },\n        likeComment,\n        getComments\n      } = this.props;\n      const {\n        commentPage,\n        commentLimit\n      } = this.state;\n      likeComment(commentId, {\n        like: type\n      }).then(data => {\n        getComments(params.slug, commentPage, commentLimit).then(data => {\n          this.updateComments(data === null || data === void 0 ? void 0 : data.data);\n        });\n      });\n    };\n\n    this.handleNavigateToPost = insight => {\n      this.props.history.push({\n        pathname: `/app/insights/insight/${insight.slug}`,\n        state: {\n          routeName: insight.title\n        }\n      });\n    };\n\n    this.shareToLinkedin = () => {\n      const url = `http://www.linkedin.com/shareArticle?mini=true&url=${CONFIG.WEBSITE_URL}`;\n      window.open(url, '_blank');\n    };\n\n    this.copyLink = () => {\n      navigator.clipboard.writeText(window.location.href);\n      this.props.showAlert({\n        type: 'success',\n        message: 'Link copied!'\n      });\n    };\n  }\n\n  componentDidMount() {\n    const {\n      match: {\n        params\n      },\n      getSinglePost,\n      getComments\n    } = this.props;\n    const {\n      commentPage,\n      commentLimit\n    } = this.state;\n    getComments(params.slug, commentPage, commentLimit).then(data => {\n      this.updateComments(data === null || data === void 0 ? void 0 : data.data);\n    });\n    getSinglePost(params.slug).then(data => {\n      if (this.contentRef.current) {\n        this.contentRef.current.innerHTML = `${data.post.content}`;\n      }\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    var _prevProps$location, _prevProps$location$s, _this$props$location, _this$props$location$;\n\n    if (((_prevProps$location = prevProps.location) === null || _prevProps$location === void 0 ? void 0 : (_prevProps$location$s = _prevProps$location.state) === null || _prevProps$location$s === void 0 ? void 0 : _prevProps$location$s.routeName) !== ((_this$props$location = this.props.location) === null || _this$props$location === void 0 ? void 0 : (_this$props$location$ = _this$props$location.state) === null || _this$props$location$ === void 0 ? void 0 : _this$props$location$.routeName)) {\n      const {\n        match: {\n          params\n        },\n        getSinglePost,\n        getComments\n      } = this.props;\n      const {\n        commentPage,\n        commentLimit\n      } = this.state;\n      getComments(params.slug, commentPage, commentLimit).then(data => {\n        this.updateComments(data === null || data === void 0 ? void 0 : data.data);\n      });\n      getSinglePost(params.slug).then(data => {\n        if (this.contentRef.current) {\n          this.contentRef.current.innerHTML = `${data.post.content}`;\n        }\n      });\n    }\n  }\n\n  render() {\n    var _post$post, _post$post2, _post$post2$user, _post$post3, _post$post3$user, _post$post4, _post$post4$user, _post$post5, _post$post5$user, _post$post6, _post$post7, _post$post8, _post$post9, _post$post10, _post$post11, _post$post12, _comments$data, _comments$data2, _post$recommends, _post$recommends2, _post$recommends3;\n\n    const {\n      post,\n      userData,\n      blogError,\n      postLoading,\n      replyLoading,\n      loading\n    } = this.props;\n    const {\n      comment,\n      errors,\n      replyModal,\n      commentReply,\n      comments\n    } = this.state;\n    const errorObject = serializeErrors(blogError);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-insight-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 7\n      }\n    }, replyModal && /*#__PURE__*/React.createElement(Modal, {\n      onClose: this.toggleReplyModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, \"Reply Comment\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      placeholder: \"Share your thoughts\",\n      className: \"p-3 w-100\",\n      rows: \"3\",\n      name: \"commentReply\",\n      value: commentReply,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-error mt-0 mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }, errors ? errors.commentReply : errorObject && errorObject['commentReply']), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary btn-sm mt-2\",\n      onClick: this.handlePostReply,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    }, \"Submit\", replyLoading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border spinner-border-white spinner-border-sm ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(Back, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }\n    }), loading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border text-blue spinner-border-md ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    })), (post === null || post === void 0 ? void 0 : post.post) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }\n    }, post === null || post === void 0 ? void 0 : (_post$post = post.post) === null || _post$post === void 0 ? void 0 : _post$post.title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center mt-3 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: (post === null || post === void 0 ? void 0 : (_post$post2 = post.post) === null || _post$post2 === void 0 ? void 0 : (_post$post2$user = _post$post2.user) === null || _post$post2$user === void 0 ? void 0 : _post$post2$user.pictureUrl) ? post === null || post === void 0 ? void 0 : (_post$post3 = post.post) === null || _post$post3 === void 0 ? void 0 : (_post$post3$user = _post$post3.user) === null || _post$post3$user === void 0 ? void 0 : _post$post3$user.pictureUrl : AdminImg,\n      className: \"mr-3 profile-photo\",\n      alt: \"author\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 19\n      }\n    }, post === null || post === void 0 ? void 0 : (_post$post4 = post.post) === null || _post$post4 === void 0 ? void 0 : (_post$post4$user = _post$post4.user) === null || _post$post4$user === void 0 ? void 0 : _post$post4$user.firstName, \" \", post === null || post === void 0 ? void 0 : (_post$post5 = post.post) === null || _post$post5 === void 0 ? void 0 : (_post$post5$user = _post$post5.user) === null || _post$post5$user === void 0 ? void 0 : _post$post5$user.lastName, \" on \", moment(post === null || post === void 0 ? void 0 : (_post$post6 = post.post) === null || _post$post6 === void 0 ? void 0 : _post$post6.created_at).format('MMM DD, YYYY'))), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"feature-img img-fluid mt-3\",\n      alt: \"feature\",\n      src: post === null || post === void 0 ? void 0 : (_post$post7 = post.post) === null || _post$post7 === void 0 ? void 0 : _post$post7.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content mt-3 pb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.contentRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-black mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 15\n      }\n    }, \"Sign up to our newsletter.\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-grey\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 15\n      }\n    }, \"Get the latest articles on all things data delivered straight to your inbox.\"), /*#__PURE__*/React.createElement(Textbox, {\n      name: \"email\",\n      label: \"Your email\",\n      placeholder: \"Your work email\",\n      boxClasses: \"mt-3\",\n      type: \"text\",\n      value: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }\n    }, \"Subscribe\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center flex-wrap social-share\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-0 mr-3 text-grey\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }\n    }, \"Share \"), /*#__PURE__*/React.createElement(LinkedinIcon, {\n      size: 25,\n      round: true,\n      onClick: this.shareToLinkedin,\n      className: \"mr-2 cursor-pointer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(WhatsappShareButton, {\n      className: \"mr-2\",\n      url: window.location.href,\n      title: post === null || post === void 0 ? void 0 : (_post$post8 = post.post) === null || _post$post8 === void 0 ? void 0 : _post$post8.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(WhatsappIcon, {\n      size: 25,\n      round: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(EmailShareButton, {\n      className: \"mr-2\",\n      url: window.location.href,\n      subject: post === null || post === void 0 ? void 0 : (_post$post9 = post.post) === null || _post$post9 === void 0 ? void 0 : _post$post9.title,\n      body: `${post === null || post === void 0 ? void 0 : (_post$post10 = post.post) === null || _post$post10 === void 0 ? void 0 : _post$post10.description}... \\n \\n Read full news here: \\n`,\n      separator: '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(EmailIcon, {\n      size: 25,\n      round: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(TwitterShareButton, {\n      className: \"mr-2\",\n      url: window.location.href,\n      title: post === null || post === void 0 ? void 0 : (_post$post11 = post.post) === null || _post$post11 === void 0 ? void 0 : _post$post11.title,\n      hashtag: ['#CPCompass', '#investment'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TwitterIcon, {\n      size: 25,\n      round: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(FacebookShareButton, {\n      quote: post === null || post === void 0 ? void 0 : (_post$post12 = post.post) === null || _post$post12 === void 0 ? void 0 : _post$post12.title,\n      url: window.location.href,\n      hashtag: \"#CPCompass\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FacebookIcon, {\n      size: 25,\n      round: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"img\", {\n      src: CopyLink,\n      alt: \"copy\",\n      className: \"ml-2 cursor-pointer\",\n      onClick: this.copyLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-start comment-box mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: (userData === null || userData === void 0 ? void 0 : userData.pictureUrl) ? userData === null || userData === void 0 ? void 0 : userData.pictureUrl : DefaultImg,\n      alt: \"user\",\n      className: \"mr-3 profile-photo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handlePostComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      placeholder: \"Share your thoughts\",\n      className: \"p-3\",\n      rows: \"3\",\n      name: \"comment\",\n      value: comment,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-error mt-0 mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }\n    }, errors ? errors.comment : errorObject && errorObject['attachment']), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary btn-sm mt-2\",\n      onClick: this.handlePostComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 21\n      }\n    }, \"Submit\", postLoading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border spinner-border-white spinner-border-sm ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 25\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 13\n      }\n    }, (comments === null || comments === void 0 ? void 0 : comments.data) && (comments === null || comments === void 0 ? void 0 : (_comments$data = comments.data) === null || _comments$data === void 0 ? void 0 : _comments$data.length) > 0 ? comments === null || comments === void 0 ? void 0 : (_comments$data2 = comments.data) === null || _comments$data2 === void 0 ? void 0 : _comments$data2.map(comment => /*#__PURE__*/React.createElement(CommentItem, {\n      comment: comment,\n      onUnLike: this.handleLikeComment,\n      onLike: this.handleLikeComment,\n      onReply: this.handleReply,\n      key: comment.id,\n      likes: comments === null || comments === void 0 ? void 0 : comments.likes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 15\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-deep-blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 15\n      }\n    }, \"No Comments\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"recommendations mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 13\n      }\n    }, (post === null || post === void 0 ? void 0 : (_post$recommends = post.recommends) === null || _post$recommends === void 0 ? void 0 : _post$recommends.length) > 0 && /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 47\n      }\n    }, \"More amazing articles for you\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 15\n      }\n    }, (post === null || post === void 0 ? void 0 : (_post$recommends2 = post.recommends) === null || _post$recommends2 === void 0 ? void 0 : _post$recommends2.length) > 0 && (post === null || post === void 0 ? void 0 : (_post$recommends3 = post.recommends) === null || _post$recommends3 === void 0 ? void 0 : _post$recommends3.map(blogpost => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      key: blogpost.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(BlogItem, {\n      item: blogpost,\n      navigateToItem: this.handleNavigateToPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 19\n      }\n    }))))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  var _profile$userProfile;\n\n  const {\n    app: {\n      blog,\n      profile\n    }\n  } = state;\n  return {\n    loading: getActionLoadingState(state, actionTypes.GET_SINGLE_POST_REQUEST),\n    postLoading: getActionLoadingState(state, actionTypes.POST_COMMENT_SUCCESS),\n    replyLoading: getActionLoadingState(state, actionTypes.REPLY_COMMENT_REQUEST),\n    post: blog === null || blog === void 0 ? void 0 : blog.post,\n    userData: profile === null || profile === void 0 ? void 0 : (_profile$userProfile = profile.userProfile) === null || _profile$userProfile === void 0 ? void 0 : _profile$userProfile.data,\n    comments: blog === null || blog === void 0 ? void 0 : blog.comments,\n    blogError: blog === null || blog === void 0 ? void 0 : blog.error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getSinglePost: slug => dispatch(getSinglePost(slug)),\n    getComments: (slug, page, limit) => dispatch(getComments(slug, page, limit)),\n    postComment: (slug, payload) => dispatch(postComment(slug, payload)),\n    replyComment: (slug, commentId, payload) => dispatch(replyComment(slug, commentId, payload)),\n    likeComment: (commentId, payload) => dispatch(likeComment(commentId, payload)),\n    showAlert: payload => dispatch(showAlert(payload))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SingleInsight));","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/SingleInsight/index.js"],"names":["React","withRouter","connect","moment","getActionLoadingState","actionTypes","getSinglePost","getComments","postComment","replyComment","likeComment","showAlert","Back","CommentItem","Modal","Textbox","BlogItem","validateFields","serializeErrors","EmailShareButton","EmailIcon","FacebookShareButton","FacebookIcon","LinkedinIcon","WhatsappShareButton","WhatsappIcon","TwitterShareButton","TwitterIcon","CONFIG","SingleInsight","Component","contentRef","createRef","state","comment","errors","commentPage","commentLimit","comments","replyModal","selectedComment","commentReply","email","updateComments","data","setState","handleChange","event","name","value","target","handlePostComment","match","params","props","preventDefault","required","Object","keys","length","slug","then","handlePostReply","toggleReplyModal","handleReply","prevState","handleLikeComment","commentId","type","like","handleNavigateToPost","insight","history","push","pathname","routeName","title","shareToLinkedin","url","WEBSITE_URL","window","open","copyLink","navigator","clipboard","writeText","location","href","message","componentDidMount","current","innerHTML","post","content","componentDidUpdate","prevProps","render","userData","blogError","postLoading","replyLoading","loading","errorObject","user","pictureUrl","AdminImg","firstName","lastName","created_at","format","image","description","CopyLink","DefaultImg","map","id","likes","recommends","blogpost","mapStateToProps","app","blog","profile","GET_SINGLE_POST_REQUEST","POST_COMMENT_SUCCESS","REPLY_COMMENT_REQUEST","userProfile","error","mapDispatchToProps","dispatch","page","limit","payload"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport moment from 'moment';\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport actionTypes from \"#/store/blog/actionTypes\";\nimport { getSinglePost, getComments, postComment, replyComment, likeComment } from '#/store/blog/actions';\nimport { showAlert } from '#/store/ui/actions';\nimport Back from '#/components/Back';\nimport CommentItem from '#/components/CommentItem';\nimport Modal from '#/components/Modal';\nimport Textbox from '#/components/Textbox';\nimport BlogItem from '#/components/BlogItem';\nimport AdminImg from '#/assets/images/admin-default-img.svg';\nimport DefaultImg from '#/assets/icons/profile-icon.svg';\nimport CopyLink from '#/assets/icons/copy-link.svg';\nimport { validateFields, serializeErrors } from '#/utils';\nimport {\n  EmailShareButton,\n  EmailIcon,\n  FacebookShareButton,\n  FacebookIcon,\n  // LinkedinShareButton,\n  LinkedinIcon,\n  WhatsappShareButton,\n  WhatsappIcon,\n  TwitterShareButton,\n  TwitterIcon\n} from \"react-share\";\nimport './style.scss';\nimport CONFIG from '#/config';\n\nclass SingleInsight extends React.Component {\n  contentRef = React.createRef();\n\n  state = {\n    comment: '',\n    errors: null,\n    commentPage: 1,\n    commentLimit: 10,\n    comments: [],\n    replyModal: false,\n    selectedComment: null,\n    commentReply: '',\n    email: \"\"\n  }\n\n  componentDidMount() {\n    const { match: { params }, getSinglePost, getComments } = this.props\n    const { commentPage, commentLimit } = this.state;\n    getComments(params.slug, commentPage, commentLimit)\n      .then(data => {\n        this.updateComments(data?.data)\n      });\n    getSinglePost(params.slug)\n    .then(data => {\n      if (this.contentRef.current) {\n        this.contentRef.current.innerHTML = `${data.post.content}`\n      }\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if(prevProps.location?.state?.routeName !== this.props.location?.state?.routeName) {\n      const { match: { params }, getSinglePost, getComments } = this.props\n      const { commentPage, commentLimit } = this.state;\n      getComments(params.slug, commentPage, commentLimit)\n        .then(data => {\n          this.updateComments(data?.data)\n        });\n      getSinglePost(params.slug)\n      .then(data => {\n        if (this.contentRef.current) {\n          this.contentRef.current.innerHTML = `${data.post.content}`\n        }\n      });\n    }\n  }\n\n  updateComments = (data) => {\n    this.setState({ comments:  data})\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  }\n\n  handlePostComment = (event) => {\n    const { match: { params }, postComment, getComments  } = this.props\n    const { comment, commentPage, commentLimit } = this.state;\n    event.preventDefault();\n    this.setState({ errors: null });\n\n    const data = this.state;\n    const required = ['comment'];\n    const errors = validateFields(data, required)\n\n    if (Object.keys(errors).length > 0) {\n      return this.setState({ errors });\n    }\n\n    postComment(params.slug, { comment  })\n      .then(data => {\n        this.setState({ comment: '' })\n        getComments(params.slug, commentPage, commentLimit)\n        .then(data => {\n          this.updateComments(data?.data)\n        });\n      })\n  }\n\n  handlePostReply = (event) => {\n    event.preventDefault();\n    const { match: { params }, replyComment, getComments  } = this.props\n    const { selectedComment, commentReply, commentPage, commentLimit  } = this.state;\n    this.setState({ errors: null });\n\n    const data = this.state;\n    const required = ['commentReply'];\n    const errors = validateFields(data, required)\n\n    if (Object.keys(errors).length > 0) {\n      return this.setState({ errors });\n    }\n\n    replyComment(params.slug, selectedComment, { comment: commentReply  })\n      .then(data => {\n        this.setState({ commentReply: '' })\n        this.toggleReplyModal();\n        getComments(params.slug, commentPage, commentLimit)\n          .then(data => {\n            this.updateComments(data?.data)\n          });\n      })\n  }\n\n  handleReply = (comment) => {\n    this.setState({ selectedComment: comment });\n    this.toggleReplyModal();\n  }\n\n  toggleReplyModal = () => {\n    this.setState(prevState =>  ({ replyModal: !prevState.replyModal}));\n  }\n\n  handleLikeComment = (commentId, type) => {\n    const { match: { params }, likeComment, getComments  } = this.props\n    const { commentPage, commentLimit  } = this.state;\n    likeComment(commentId, { like: type})\n      .then(data => {\n        getComments(params.slug, commentPage, commentLimit)\n          .then(data => {\n            this.updateComments(data?.data)\n          });\n      })\n  }\n\n  handleNavigateToPost = (insight) => {\n    this.props.history.push({\n      pathname: `/app/insights/insight/${insight.slug}`,\n      state: { routeName: insight.title }\n    })\n  }\n\n  shareToLinkedin = () => {\n    const url = `http://www.linkedin.com/shareArticle?mini=true&url=${CONFIG.WEBSITE_URL}`;\n    window.open(url, '_blank');\n  }\n\n  copyLink = () => {\n    navigator.clipboard.writeText(window.location.href);\n    this.props.showAlert({ type: 'success', message: 'Link copied!' })\n  }\n\n  render() {\n    const { post, userData, blogError, postLoading, replyLoading, loading } = this.props;\n    const { comment, errors, replyModal, commentReply, comments } = this.state;\n    const errorObject = serializeErrors(blogError);\n\n    return (\n      <div className=\"single-insight-page\">\n        {replyModal &&\n          <Modal onClose={this.toggleReplyModal}>\n            <h3>Reply Comment</h3>\n              <textarea \n                placeholder=\"Share your thoughts\"\n                className=\"p-3 w-100\"\n                rows=\"3\"\n                name=\"commentReply\"\n                value={commentReply}\n                onChange={this.handleChange}\n              />\n              <p className=\"text-error mt-0 mb-0\">{errors ? errors.commentReply : (errorObject && errorObject['commentReply'])}</p>\n            <button className=\"btn btn-primary btn-sm mt-2\" onClick={this.handlePostReply}>\n              Submit\n              {replyLoading &&\n                <div className=\"spinner-border spinner-border-white spinner-border-sm ml-2\"></div>\n              }\n            </button>\n          </Modal>\n          }\n        <Back />\n        <hr />\n        {loading &&\n          <div className=\"text-center\">\n            <div className=\"spinner-border text-blue spinner-border-md ml-2\"></div>\n          </div>\n        }\n        {post?.post &&\n          <>\n          <div className=\"row\">\n\n            <div className=\"col-md-9\">\n              <h3 className=\"mt-3\">{post?.post?.title}</h3>\n              <div className=\"d-flex align-items-center mt-3 mb-3\">\n                  <img src={post?.post?.user?.pictureUrl ? post?.post?.user?.pictureUrl : AdminImg } className=\"mr-3 profile-photo\" alt=\"author\" />\n                  <p className=\"mb-0\">{post?.post?.user?.firstName} {post?.post?.user?.lastName} on {moment(post?.post?.created_at).format('MMM DD, YYYY')}</p>\n                </div>\n              <img\n                className=\"feature-img img-fluid mt-3\"\n                alt=\"feature\"\n                src={post?.post?.image}\n              />\n              <div className=\"content mt-3 pb-4\">\n                <div ref={this.contentRef}></div>\n              </div>\n            </div>\n\n            <div className=\"col-md-3\">\n              <p className=\"text-black mt-3\">Sign up to our newsletter.</p>\n              <p className=\"text-grey\">Get the latest articles on all things data delivered straight to your inbox.</p>\n              <Textbox\n                  name=\"email\"\n                  label=\"Your email\"\n                  placeholder=\"Your work email\"\n                  boxClasses=\"mt-3\"\n                  type=\"text\"\n                  value={this.state.email}\n                />\n                <button className=\"btn btn-sm btn-primary mt-2\">\n                  Subscribe\n                </button>\n\n                <hr />\n              <div className=\"d-flex align-items-center flex-wrap social-share\">\n                <p className=\"mb-0 mr-3 text-grey\">Share </p>\n                  <LinkedinIcon size={25} round={true} onClick={this.shareToLinkedin} className=\"mr-2 cursor-pointer\" />\n                <WhatsappShareButton className=\"mr-2\" url={window.location.href} title={post?.post?.title}>\n                  <WhatsappIcon size={25} round={true} />\n                </WhatsappShareButton>\n                <EmailShareButton className=\"mr-2\" url={window.location.href} subject={post?.post?.title} body={`${post?.post?.description}... \\n \\n Read full news here: \\n`} separator={''}>\n                  <EmailIcon size={25} round={true} />\n                </EmailShareButton>\n                <TwitterShareButton className=\"mr-2\" url={window.location.href} title={post?.post?.title} hashtag={['#CPCompass', '#investment']}>\n                  <TwitterIcon size={25} round={true} />\n                </TwitterShareButton>\n                <FacebookShareButton quote={post?.post?.title} url={window.location.href} hashtag='#CPCompass'>\n                  <FacebookIcon size={25} round={true} />\n                </FacebookShareButton>\n                <img src={CopyLink} alt=\"copy\" className=\"ml-2 cursor-pointer\" onClick={this.copyLink}/>\n              </div>\n              <hr />\n            </div>\n          </div>\n\n            <div className=\"d-flex align-items-start comment-box mt-5\">\n              <img src={userData?.pictureUrl ? userData?.pictureUrl : DefaultImg} alt=\"user\" className=\"mr-3 profile-photo\"/>\n              <div className=\"w-100\">\n                <form onSubmit={this.handlePostComment}>\n                  <textarea \n                    placeholder=\"Share your thoughts\"\n                    className=\"p-3\"\n                    rows=\"3\"\n                    name=\"comment\"\n                    value={comment}\n                    onChange={this.handleChange}\n                  />\n                <p className=\"text-error mt-0 mb-0\">{errors ? errors.comment : (errorObject && errorObject['attachment'])}</p>\n                  <div className=\"text-right\">\n                    <button className=\"btn btn-primary btn-sm mt-2\" onClick={this.handlePostComment}>\n                      Submit\n                      {postLoading &&\n                        <div className=\"spinner-border spinner-border-white spinner-border-sm ml-2\"></div>\n                      }\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n            <div>\n            {comments?.data && comments?.data?.length > 0 ?\n            comments?.data?.map(comment => (\n              <CommentItem\n                comment={comment}\n                onUnLike={this.handleLikeComment}\n                onLike={this.handleLikeComment}\n                onReply={this.handleReply}\n                key={comment.id}\n                likes={comments?.likes}\n                />\n            ))\n            :\n            <div className=\"text-center w-100\">\n              <p className=\"text-deep-blue\">No Comments</p>\n            </div>\n          }\n          </div>\n            <div className=\"recommendations mt-5\">\n            {post?.recommends?.length > 0 &&  <h3>More amazing articles for you</h3> }\n              <div className=\"row\">\n              {post?.recommends?.length > 0 && \n                post?.recommends?.map(blogpost => (\n                <div className=\"col-md-4\" key={blogpost.id}>\n                  <BlogItem item={blogpost} navigateToItem={this.handleNavigateToPost} />\n                </div>\n              ))\n              }\n              </div>\n            </div>\n          </>\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { \n    app: { \n      blog,\n      profile,\n    } \n  } = state;\n\n  return {\n    loading: getActionLoadingState(state, actionTypes.GET_SINGLE_POST_REQUEST),\n    postLoading: getActionLoadingState(state, actionTypes.POST_COMMENT_SUCCESS),\n    replyLoading: getActionLoadingState(state, actionTypes.REPLY_COMMENT_REQUEST),\n    post: blog?.post,\n    userData: profile?.userProfile?.data,\n    comments: blog?.comments,\n    blogError: blog?.error\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getSinglePost: (slug) => dispatch(getSinglePost(slug)),\n    getComments: (slug, page, limit) => dispatch(getComments(slug, page, limit)),\n    postComment: (slug, payload) => dispatch(postComment(slug, payload)),\n    replyComment: (slug, commentId, payload) => dispatch(replyComment(slug, commentId, payload)),\n    likeComment: (commentId, payload) => dispatch(likeComment(commentId, payload)),\n    showAlert: (payload) => dispatch(showAlert(payload)),\n  };\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SingleInsight));\n"]},"metadata":{},"sourceType":"module"}