{"ast":null,"code":"var _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Profile/PoliticalStatus/index.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport moment from 'moment';\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport { addPoliticalStatus } from \"#/store/profile/actions\";\nimport actionTypes from \"#/store/profile/actionTypes\";\nimport Alert from '#/components/Alert';\nimport Modal from '#/components/Modal';\nimport RadioInput from \"#/components/RadioInput\";\nimport CustomInput from \"#/components/CustomInput\";\nimport { validateFields, serializeErrors, relationshipOption } from '#/utils';\nimport './style.scss';\n\nclass PoliticalStatus extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      occupiedPoliticalPosition: false,\n      hasPoliticalAssociate: false,\n      relationshipWithAssociate: '',\n      occupiedTillDate: false,\n      associateOccupiedTillDate: false,\n      positionName: '',\n      associatePositionName: '',\n      from: new Date(),\n      to: new Date(),\n      associateTo: new Date(),\n      associateFrom: new Date(),\n      errors: null,\n      isBvnModal: false\n    };\n\n    this.setValues = () => {\n      const {\n        userInfo\n      } = this.props;\n\n      if (userInfo) {\n        this.setState({\n          occupiedPoliticalPosition: userInfo && userInfo.occupiedPoliticalPosition ? userInfo.occupiedPoliticalPosition === 1 ? true : false : false,\n          hasPoliticalAssociate: userInfo && userInfo.hasPoliticalAssociate ? userInfo.hasPoliticalAssociate === 1 ? true : false : false,\n          relationshipWithAssociate: userInfo && userInfo.relationshipWithAssociate ? userInfo.relationshipWithAssociate : '',\n          occupiedTillDate: userInfo && userInfo.occupiedTillDate ? userInfo.occupiedTillDate === 1 ? true : false : false,\n          associateOccupiedTillDate: userInfo && userInfo.politicalAssociate ? userInfo.politicalAssociate.occupiedTillDate && userInfo.politicalAssociate.occupiedTillDate : false,\n          associateTo: userInfo && userInfo.politicalAssociate ? userInfo.politicalAssociate.to ? new Date(userInfo.politicalAssociate.to.split('T')[0]) : '' : '',\n          associateFrom: userInfo && userInfo.politicalAssociate ? userInfo.politicalAssociate.from ? new Date(userInfo.politicalAssociate.from.split('T')[0]) : '' : '',\n          associatePositionName: userInfo && userInfo.politicalAssociate ? userInfo.politicalAssociate.positionName ? userInfo.politicalAssociate.positionName : '' : '',\n          positionName: userInfo && userInfo.positionName ? userInfo.positionName : '',\n          from: userInfo && userInfo.from ? new Date(userInfo.from.split('T')[0]) : '',\n          to: userInfo && userInfo.to ? new Date(userInfo.to.split('T')[0]) : ''\n        });\n      }\n    };\n\n    this.handleChange = event => {\n      const {\n        name\n      } = event.target;\n      let value;\n\n      if (event.target.type === \"radio\" && event.target.value === \"true\") {\n        value = true;\n      } else if (event.target.type === \"radio\" && event.target.value === \"false\") {\n        value = false;\n      } else {\n        value = event.target.type === \"checkbox\" ? event.target.checked : event.target.value;\n      }\n\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleRelationshipChange = event => {\n      const {\n        value\n      } = event.target;\n      this.setState({\n        relationshipWithAssociate: value\n      });\n    };\n\n    this.handleChangeDate = (item, date) => {\n      this.setState({\n        [item]: date\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        addPoliticalStatus\n      } = this.props;\n      const {\n        occupiedPoliticalPosition,\n        occupiedTillDate,\n        hasPoliticalAssociate,\n        positionName,\n        from,\n        to,\n        relationshipWithAssociate,\n        associatePositionName,\n        associateOccupiedTillDate,\n        associateFrom,\n        associateTo\n      } = this.state;\n      this.setState({\n        errors: null\n      });\n\n      if (occupiedPoliticalPosition) {\n        const data = this.state;\n        const required = ['positionName'];\n        const errors = validateFields(data, required);\n\n        if (Object.keys(errors).length > 0) {\n          return this.setState({\n            errors\n          });\n        }\n      }\n\n      if (occupiedTillDate && occupiedPoliticalPosition) {\n        const data = this.state;\n        const required = ['from'];\n        const errors = validateFields(data, required);\n\n        if (Object.keys(errors).length > 0) {\n          return this.setState({\n            errors\n          });\n        }\n      }\n\n      if (!occupiedTillDate && occupiedPoliticalPosition) {\n        const data = this.state;\n        const required = ['from', 'to'];\n        const errors = validateFields(data, required);\n\n        if (Object.keys(errors).length > 0) {\n          return this.setState({\n            errors\n          });\n        }\n      }\n\n      if (associateOccupiedTillDate) {\n        const data = this.state;\n        const required = ['associateFrom'];\n        const errors = validateFields(data, required);\n\n        if (Object.keys(errors).length > 0) {\n          return this.setState({\n            errors\n          });\n        }\n      }\n\n      if (hasPoliticalAssociate && !associateOccupiedTillDate) {\n        const data = this.state;\n        const required = ['associateFrom', 'associateTo'];\n        const errors = validateFields(data, required);\n\n        if (Object.keys(errors).length > 0) {\n          return this.setState({\n            errors\n          });\n        }\n      }\n\n      if (hasPoliticalAssociate) {\n        const data = this.state;\n        const required = ['relationshipWithAssociate', 'associatePositionName'];\n        const errors = validateFields(data, required);\n\n        if (Object.keys(errors).length > 0) {\n          return this.setState({\n            errors\n          });\n        }\n      }\n\n      if (!this.props.isBvnActive) {\n        return this.toggleBvnModal();\n      }\n\n      const politicalAssociate = {\n        positionName: associatePositionName,\n        occupiedTillDate: associateOccupiedTillDate,\n        from: moment(associateFrom).format('YYYY-MM-DD'),\n        to: moment(associateTo).format('YYYY-MM-DD')\n      };\n      const payload = {\n        occupiedPoliticalPosition,\n        occupiedTillDate,\n        hasPoliticalAssociate,\n        positionName,\n        from: moment(from).format('YYYY-MM-DD'),\n        to: moment(to).format('YYYY-MM-DD'),\n        relationshipWithAssociate,\n        politicalAssociate\n      };\n      addPoliticalStatus(payload);\n    };\n\n    this.handleBvnSetup = () => {\n      this.props.history.push('/app/onboarding');\n    };\n\n    this.toggleBvnModal = () => {\n      this.setState(prevState => ({\n        isBvnModal: !prevState.isBvnModal\n      }));\n    };\n  }\n\n  componentDidMount() {\n    this.setValues();\n  }\n\n  render() {\n    const {\n      occupiedPoliticalPosition,\n      occupiedTillDate,\n      hasPoliticalAssociate,\n      positionName,\n      from,\n      to,\n      errors,\n      associateOccupiedTillDate,\n      associateTo,\n      associateFrom,\n      associatePositionName,\n      relationshipWithAssociate,\n      isBvnModal\n    } = this.state;\n    const {\n      loading,\n      error,\n      data\n    } = this.props;\n    const errorObject = serializeErrors(error);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section-container mb-5 pb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 7\n      }\n    }, isBvnModal && /*#__PURE__*/React.createElement(Modal, {\n      classes: \"bvn-active\",\n      onClose: this.toggleBvnModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"text-deep-blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 15\n      }\n    }, \"Please Setup your BVN to continue\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary btn-sm btn-block mt-4\",\n      onClick: this.handleBvnSetup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 15\n      }\n    }, \"Setup BVN\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"section-header mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }\n    }, \"Political Status\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-row mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"question-box__question\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }\n    }, \"Have you occupied any Political Position?\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(RadioInput, {\n      name: \"occupiedPoliticalPosition\",\n      label: \"Yes\",\n      value: true,\n      checked: occupiedPoliticalPosition === true,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(RadioInput, {\n      name: \"occupiedPoliticalPosition\",\n      label: \"No\",\n      value: false,\n      checked: occupiedPoliticalPosition === false,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 19\n      }\n    }))), occupiedPoliticalPosition && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CustomInput, {\n      name: \"positionName\",\n      label: \"Name of Position\",\n      value: positionName,\n      onChange: this.handleChange,\n      error: errors ? errors.positionName : errorObject && errorObject['positionName'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(CustomInput, {\n      name: \"occupiedTillDate\",\n      label: \"Do you still occupy this position\",\n      value: occupiedTillDate ? \"1\" : \"0\",\n      onChange: e => this.setState({\n        occupiedTillDate: e.target.value === \"1\" ? true : false,\n        to: ''\n      }),\n      type: \"select\",\n      options: [{\n        name: 'Yes',\n        value: \"1\"\n      }, {\n        name: 'No',\n        value: \"0\"\n      }],\n      error: errors ? errors.occupiedTillDate : errorObject && errorObject[\"occupiedTillDate\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"question-box__question\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 19\n      }\n    }, \"When you occupied position?\")), /*#__PURE__*/React.createElement(CustomInput, {\n      name: \"from\",\n      label: \"Start Date\",\n      value: from,\n      type: \"date\",\n      onChange: date => this.handleChangeDate('from', date),\n      error: errors ? errors.from : errorObject && errorObject['from'],\n      maxDate: to || new Date(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }\n    }), !occupiedTillDate && /*#__PURE__*/React.createElement(CustomInput, {\n      name: \"to\",\n      label: \"End Date\",\n      value: to,\n      type: \"date\",\n      onChange: date => this.handleChangeDate('to', date),\n      error: errors ? errors.to : errorObject && errorObject['to'],\n      maxDate: new Date(),\n      minDate: from || undefined,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 39\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-row pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"question-box__question\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }\n    }, \"Do you have any close relative or associates who occupied any Political Position?\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(RadioInput, {\n      name: \"hasPoliticalAssociate\",\n      label: \"Yes\",\n      value: true,\n      checked: hasPoliticalAssociate === true,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(RadioInput, {\n      name: \"hasPoliticalAssociate\",\n      label: \"No\",\n      value: false,\n      checked: hasPoliticalAssociate === false,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 19\n      }\n    }))), hasPoliticalAssociate && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CustomInput, {\n      name: \"associatePositionName\",\n      label: \"Name of Position\",\n      value: associatePositionName,\n      onChange: this.handleChange,\n      error: errors ? errors.associatePositionName : errorObject && errorObject['associatePositionName'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(CustomInput, {\n      name: \"associateOccupiedTillDate\",\n      label: \"He/She still occupies this position?\",\n      value: associateOccupiedTillDate ? \"1\" : \"0\",\n      onChange: e => this.setState({\n        associateOccupiedTillDate: e.target.value === \"1\" ? true : false,\n        associateTo: ''\n      }),\n      type: \"select\",\n      options: [{\n        name: 'Yes',\n        value: \"1\"\n      }, {\n        name: 'No',\n        value: \"0\"\n      }],\n      error: errors ? errors.associateOccupiedTillDate : errorObject && errorObject[\"associateOccupiedTillDate\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"question-box__question\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 19\n      }\n    }, \"When he/she occupied position?\")), /*#__PURE__*/React.createElement(CustomInput, {\n      name: \"associateFrom\",\n      label: \"Start Date\",\n      value: associateFrom,\n      type: \"date\",\n      onChange: date => this.handleChangeDate('associateFrom', date),\n      error: errors ? errors.associateFrom : errorObject && errorObject['politicalAssociate.from'],\n      maxDate: associateTo || new Date(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 17\n      }\n    }), !associateOccupiedTillDate && /*#__PURE__*/React.createElement(CustomInput, {\n      name: \"associateTo\",\n      label: \"End Date\",\n      value: associateTo,\n      type: \"date\",\n      onChange: date => this.handleChangeDate('associateTo', date),\n      error: errors ? errors.associateTo : errorObject && errorObject['politicalAssociate.to'],\n      maxDate: new Date(),\n      minDate: associateFrom || undefined,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 48\n      }\n    }), !associateOccupiedTillDate && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"just-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 48\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(CustomInput, {\n      name: \"relationshipWithAssociate\",\n      label: \"Relationship with Associate\",\n      value: relationshipWithAssociate,\n      onChange: this.handleChange,\n      type: \"select\",\n      options: relationshipOption,\n      error: errors ? errors.relationshipWithAssociate : errorObject && errorObject['relationshipWithAssociate'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section-form__button-area mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 13\n      }\n    }, error && typeof error === 'string' && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-error text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 54\n      }\n    }, error), data && /*#__PURE__*/React.createElement(Alert, {\n      alert: {\n        type: \"success\",\n        message: data.message\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-default\",\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 15\n      }\n    }, \"Save changes\", loading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border spinner-border-white spinner-border-sm ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 19\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const {\n    app: {\n      profile: {\n        userProfile: {\n          data: userData\n        },\n        politics: {\n          error,\n          data\n        }\n      }\n    }\n  } = state;\n  return {\n    loading: getActionLoadingState(state, actionTypes.ADD_POLITICAL_STATUS_REQUEST),\n    error,\n    data,\n    isBvnActive: userData && userData.bvn ? true : false\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addPoliticalStatus: (payload, history) => dispatch(addPoliticalStatus(payload, history))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PoliticalStatus));","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Profile/PoliticalStatus/index.js"],"names":["React","withRouter","connect","moment","getActionLoadingState","addPoliticalStatus","actionTypes","Alert","Modal","RadioInput","CustomInput","validateFields","serializeErrors","relationshipOption","PoliticalStatus","Component","state","occupiedPoliticalPosition","hasPoliticalAssociate","relationshipWithAssociate","occupiedTillDate","associateOccupiedTillDate","positionName","associatePositionName","from","Date","to","associateTo","associateFrom","errors","isBvnModal","setValues","userInfo","props","setState","politicalAssociate","split","handleChange","event","name","target","value","type","checked","handleRelationshipChange","handleChangeDate","item","date","handleSubmit","preventDefault","data","required","Object","keys","length","isBvnActive","toggleBvnModal","format","payload","handleBvnSetup","history","push","prevState","componentDidMount","render","loading","error","errorObject","e","undefined","message","mapStateToProps","app","profile","userProfile","userData","politics","ADD_POLITICAL_STATUS_REQUEST","bvn","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport moment from 'moment';\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport { addPoliticalStatus } from \"#/store/profile/actions\";\nimport actionTypes from \"#/store/profile/actionTypes\";\nimport Alert from '#/components/Alert';\nimport Modal from '#/components/Modal';\nimport RadioInput from \"#/components/RadioInput\";\nimport CustomInput from \"#/components/CustomInput\";\nimport { validateFields, serializeErrors, relationshipOption } from '#/utils';\nimport './style.scss';\n\nclass PoliticalStatus extends React.Component {\n  state = {\n    occupiedPoliticalPosition: false,\n    hasPoliticalAssociate: false,\n    relationshipWithAssociate: '',\n    occupiedTillDate: false,\n    associateOccupiedTillDate: false,\n    positionName: '',\n    associatePositionName: '',\n    from: new Date(),\n    to: new Date(),\n    associateTo: new Date(),\n    associateFrom: new Date(),\n    errors: null,\n    isBvnModal: false,\n  }\n\n  componentDidMount() {\n    this.setValues()\n  }\n\n  setValues = () => {\n    const { userInfo } = this.props;\n    if (userInfo) {\n      this.setState({\n        occupiedPoliticalPosition: userInfo && userInfo.occupiedPoliticalPosition ? (userInfo.occupiedPoliticalPosition === 1 ? true : false) : false,\n        hasPoliticalAssociate: userInfo && userInfo.hasPoliticalAssociate ? (userInfo.hasPoliticalAssociate === 1 ? true : false) : false,\n        relationshipWithAssociate: userInfo && userInfo.relationshipWithAssociate ? userInfo.relationshipWithAssociate : '',\n        occupiedTillDate: userInfo && userInfo.occupiedTillDate ? (userInfo.occupiedTillDate === 1 ? true : false) : false,\n        associateOccupiedTillDate: userInfo && userInfo.politicalAssociate ? (userInfo.politicalAssociate.occupiedTillDate && userInfo.politicalAssociate.occupiedTillDate ) : false,\n        associateTo: userInfo && userInfo.politicalAssociate ? ( userInfo.politicalAssociate.to ? new Date(userInfo.politicalAssociate.to.split('T')[0] ): '' ) : '',\n        associateFrom: userInfo && userInfo.politicalAssociate ? ( userInfo.politicalAssociate.from ? new Date(userInfo.politicalAssociate.from.split('T')[0]) : '' ) : '',\n        associatePositionName: userInfo && userInfo.politicalAssociate ? ( userInfo.politicalAssociate.positionName ? userInfo.politicalAssociate.positionName : '' ) : '',\n        positionName: userInfo && userInfo.positionName ? userInfo.positionName : '',\n        from: userInfo && userInfo.from ? new Date(userInfo.from.split('T')[0]) : '',\n        to: userInfo && userInfo.to ? new Date(userInfo.to.split('T')[0]) : '',\n      })\n    }\n  }\n\n  handleChange = (event) => {\n    const { name } = event.target;\n    let value\n    if (event.target.type === \"radio\" && event.target.value === \"true\") {\n      value = true;\n    }\n    else if (event.target.type === \"radio\" && event.target.value === \"false\") {\n      value = false;\n    }\n    else {\n      value = event.target.type === \"checkbox\" ? event.target.checked : event.target.value;\n    }\n    this.setState({ [name]: value });\n  }\n\n  handleRelationshipChange = (event) => {\n    const { value } = event.target\n    this.setState({ relationshipWithAssociate: value });\n  }\n\n  handleChangeDate = (item, date) => {\n    this.setState({ [item]: date });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { addPoliticalStatus } = this.props;\n    const {\n      occupiedPoliticalPosition,\n      occupiedTillDate,\n      hasPoliticalAssociate,\n      positionName,\n      from,\n      to,\n      relationshipWithAssociate,\n      associatePositionName,\n      associateOccupiedTillDate,\n      associateFrom,\n      associateTo,\n    } = this.state;\n\n    this.setState({ errors: null });\n\n    if(occupiedPoliticalPosition){\n      const data = this.state;\n      const required = ['positionName'];\n      const errors = validateFields(data, required)\n      if (Object.keys(errors).length > 0) {\n        return this.setState({ errors });\n      }\n    }\n\n    if(occupiedTillDate && occupiedPoliticalPosition) {\n      const data = this.state;\n      const required = ['from'];\n      const errors = validateFields(data, required)\n      if (Object.keys(errors).length > 0) {\n        return this.setState({ errors });\n      }\n    }\n\n    if(!occupiedTillDate && occupiedPoliticalPosition) {\n      const data = this.state;\n      const required = ['from', 'to'];\n      const errors = validateFields(data, required)\n      if (Object.keys(errors).length > 0) {\n        return this.setState({ errors });\n      }\n    }\n\n\n    if (associateOccupiedTillDate) {\n      const data = this.state;\n      const required = ['associateFrom'];\n      const errors = validateFields(data, required)\n      if (Object.keys(errors).length > 0) {\n        return this.setState({ errors });\n      }\n    }\n\n    if (hasPoliticalAssociate && !associateOccupiedTillDate) {\n      const data = this.state;\n      const required = ['associateFrom', 'associateTo'];\n      const errors = validateFields(data, required)\n      if (Object.keys(errors).length > 0) {\n        return this.setState({ errors });\n      }\n    }\n\n    if(hasPoliticalAssociate){\n      const data = this.state;\n      const required = ['relationshipWithAssociate', 'associatePositionName'];\n      const errors = validateFields(data, required)\n      if (Object.keys(errors).length > 0) {\n        return this.setState({ errors });\n      }\n    }\n\n    if(!this.props.isBvnActive) {\n      return this.toggleBvnModal()\n    }\n\n    const politicalAssociate = { \n      positionName: associatePositionName,\n      occupiedTillDate: associateOccupiedTillDate,\n      from: moment(associateFrom).format('YYYY-MM-DD'),\n      to: moment(associateTo).format('YYYY-MM-DD')\n    }\n    const payload = { \n      occupiedPoliticalPosition,\n      occupiedTillDate,\n      hasPoliticalAssociate,\n      positionName,\n      from: moment(from).format('YYYY-MM-DD'),\n      to: moment(to).format('YYYY-MM-DD'),\n      relationshipWithAssociate,\n      politicalAssociate,\n    };\n    addPoliticalStatus(payload);\n  }\n\n  handleBvnSetup = () => {\n    this.props.history.push('/app/onboarding');\n  }\n\n  toggleBvnModal = () => {\n    this.setState(prevState => ({ isBvnModal: !prevState.isBvnModal }))\n  }\n\n  render() {\n    const {\n      occupiedPoliticalPosition, \n      occupiedTillDate, \n      hasPoliticalAssociate, \n      positionName, \n      from, \n      to, \n      errors, \n      associateOccupiedTillDate,\n      associateTo,\n      associateFrom,\n      associatePositionName,\n      relationshipWithAssociate,\n      isBvnModal,\n    } = this.state;\n    const { loading, error, data } = this.props;\n    const errorObject = serializeErrors(error);\n    \n    return (\n      <div className=\"section-container mb-5 pb-4\">\n         {isBvnModal &&\n          <Modal classes=\"bvn-active\" onClose={this.toggleBvnModal}>\n            <div className=\"text-center\">\n              <h3 className=\"text-deep-blue\">Please Setup your BVN to continue</h3>\n              <button className=\"btn btn-primary btn-sm btn-block mt-4\" onClick={this.handleBvnSetup}>\n                Setup BVN\n              </button>\n            </div>\n          </Modal>\n        }\n\n        <div>\n          <h2 className=\"section-header mb-3\">Political Status</h2>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"single-row mb-5\">\n              <div className=\"question-box\">\n                <p className=\"question-box__question\">Have you occupied any Political Position?</p>\n                <div>\n                  <RadioInput \n                    name=\"occupiedPoliticalPosition\" \n                    label=\"Yes\"\n                    value={true}\n                    checked={occupiedPoliticalPosition === true} \n                    onChange={this.handleChange} \n                  />\n                  <RadioInput \n                    name=\"occupiedPoliticalPosition\" \n                    label=\"No\"\n                    value={false} \n                    checked={occupiedPoliticalPosition === false} \n                    onChange={this.handleChange} \n                  />\n                </div>\n              </div>\n              {occupiedPoliticalPosition && <>\n                <CustomInput\n                  name=\"positionName\"\n                  label=\"Name of Position\"\n                  value={positionName}\n                  onChange={this.handleChange}\n                  error={\n                    errors ? errors.positionName : (errorObject && errorObject['positionName'])\n                  }\n                />\n                <CustomInput\n                  name=\"occupiedTillDate\"\n                  label=\"Do you still occupy this position\"\n                  value={occupiedTillDate ? \"1\" : \"0\"}\n                  onChange={e => this.setState({occupiedTillDate: e.target.value === \"1\" ? true : false, to: ''})}\n                  type=\"select\"\n                  options={[{name: 'Yes', value: \"1\"}, {name: 'No', value: \"0\"}]}\n                  error={\n                    errors ? errors.occupiedTillDate : errorObject && errorObject[\"occupiedTillDate\"]\n                  }\n                />\n                <div className=\"question-box\">\n                  <p className=\"question-box__question\">When you occupied position?</p>\n                </div>\n                <CustomInput\n                  name=\"from\"\n                  label=\"Start Date\"\n                  value={from}\n                  type=\"date\"\n                  onChange={date => this.handleChangeDate('from', date)}\n                  error={errors ? errors.from : (errorObject && errorObject['from'])}\n                  maxDate={to || new Date()}\n                />\n                {!occupiedTillDate && <CustomInput\n                  name=\"to\"\n                  label=\"End Date\"\n                  value={to}\n                  type=\"date\"\n                  onChange={date => this.handleChangeDate('to', date)}\n                  error={errors ? errors.to : (errorObject && errorObject['to'])}\n                  maxDate={new Date()}\n                  minDate={from || undefined}\n                />}\n              </>}\n            </div>\n            <div className=\"single-row pt-3\">\n              <div className=\"question-box\">\n                <p className=\"question-box__question\">\n                  Do you have any close relative or associates who occupied any Political Position?\n                </p>\n                <div>\n                  <RadioInput \n                    name=\"hasPoliticalAssociate\" \n                    label=\"Yes\"\n                    value={true}\n                    checked={hasPoliticalAssociate === true} \n                    onChange={this.handleChange} \n                  />\n                  <RadioInput \n                    name=\"hasPoliticalAssociate\" \n                    label=\"No\"\n                    value={false} \n                    checked={hasPoliticalAssociate === false} \n                    onChange={this.handleChange} \n                  />\n                </div>\n              </div>\n              {hasPoliticalAssociate && <>\n                <CustomInput\n                  name=\"associatePositionName\"\n                  label=\"Name of Position\"\n                  value={associatePositionName}\n                  onChange={this.handleChange}\n                  error={\n                    errors ? errors.associatePositionName : (errorObject && errorObject['associatePositionName'])\n                  }\n                />\n                <CustomInput\n                  name=\"associateOccupiedTillDate\"\n                  label=\"He/She still occupies this position?\"\n                  value={associateOccupiedTillDate ? \"1\" : \"0\"}\n                  onChange={e => this.setState({associateOccupiedTillDate: e.target.value === \"1\" ? true : false, associateTo: ''})}\n                  type=\"select\"\n                  options={[{name: 'Yes', value: \"1\"}, {name: 'No', value: \"0\"}]}\n                  error={\n                    errors ? errors.associateOccupiedTillDate : errorObject && errorObject[\"associateOccupiedTillDate\"]\n                  }\n                />\n                <div className=\"question-box\">\n                  <p className=\"question-box__question\">When he/she occupied position?</p>\n                </div>\n                <CustomInput\n                  name=\"associateFrom\"\n                  label=\"Start Date\"\n                  value={associateFrom}\n                  type=\"date\"\n                  onChange={date => this.handleChangeDate('associateFrom', date)}\n                  error={errors ? errors.associateFrom : (errorObject && errorObject['politicalAssociate.from'])}\n                  maxDate={associateTo || new Date()}\n                />\n                {!associateOccupiedTillDate && <CustomInput\n                  name=\"associateTo\"\n                  label=\"End Date\"\n                  value={associateTo}\n                  type=\"date\"\n                  onChange={date => this.handleChangeDate('associateTo', date)}\n                  error={errors ? errors.associateTo : (errorObject && errorObject['politicalAssociate.to'])}\n                  maxDate={new Date()}\n                  minDate={associateFrom || undefined}\n                />}\n                {!associateOccupiedTillDate && <div className=\"just-space\">&nbsp;</div>}\n                <CustomInput\n                  name=\"relationshipWithAssociate\"\n                  label=\"Relationship with Associate\"\n                  value={relationshipWithAssociate}\n                  onChange={this.handleChange}\n                  type=\"select\"\n                  options={relationshipOption}\n                  error={\n                    errors ? errors.relationshipWithAssociate : (errorObject && errorObject['relationshipWithAssociate'])\n                  }\n                />\n              </>}\n            </div>\n            <div className=\"section-form__button-area mt-4\">\n              {error && typeof error === 'string' && <p className=\"text-error text-left\">{error}</p>}\n              {data && <Alert alert={{ type: \"success\", message: data.message }} />}\n              <button className=\"btn-default\" disabled={loading}>\n                Save changes\n                {loading && (\n                  <div className=\"spinner-border spinner-border-white spinner-border-sm ml-2\"></div>\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { app: { profile: { userProfile: { data: userData }, politics: { error, data } } } } = state;\n  return {\n    loading: getActionLoadingState(state, actionTypes.ADD_POLITICAL_STATUS_REQUEST),\n    error,\n    data,\n    isBvnActive: userData && userData.bvn ? true : false,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addPoliticalStatus: (payload, history) => dispatch(addPoliticalStatus(payload, history)),\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PoliticalStatus));\n"]},"metadata":{},"sourceType":"module"}