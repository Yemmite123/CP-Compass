{"ast":null,"code":"var _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Onboarding/VerifyIdentityManually/index.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport moment from 'moment';\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport actionTypes from \"#/store/onboarding/actionTypes\";\nimport { confirmIdentity } from '#/store/onboarding/actions';\nimport Textbox from '#/components/Textbox';\nimport Alert from '#/components/Alert';\nimport DateBox from '#/components/DateBox';\nimport { validateFields, serializeErrors } from '#/utils';\nimport './style.scss';\n\nclass VerifyIdentityManually extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      bvn: '',\n      firstName: '',\n      lastName: '',\n      errors: null,\n      dob: ''\n    };\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleChangeDate = (item, date) => {\n      this.setState({\n        [item]: date\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        confirmIdentity,\n        history\n      } = this.props;\n      const {\n        bvn,\n        firstName,\n        lastName,\n        dob\n      } = this.state;\n      this.setState({\n        errors: null\n      });\n      const data = this.state;\n      const required = ['firstName', 'lastName', 'bvn', 'dob'];\n      const errors = validateFields(data, required);\n\n      if (Object.keys(errors).length > 0) {\n        return this.setState({\n          errors\n        });\n      }\n\n      const payload = {\n        bvn,\n        firstName,\n        lastName,\n        dateOfBirth: moment(dob).format('YYYY-MM-DD'),\n        manual: true\n      };\n      confirmIdentity(payload, history);\n    };\n  }\n\n  render() {\n    const {\n      firstName,\n      lastName,\n      bvn,\n      errors,\n      dob\n    } = this.state;\n    const {\n      error,\n      loading,\n      data\n    } = this.props;\n    const errorObject = serializeErrors(error);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"verify-identity-manually-page text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, \"ACCOUNT SETUP\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, \"BVN Verification\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, \"Please enter your BVN credentials\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Textbox, {\n      onChange: this.handleChange,\n      name: \"bvn\",\n      value: bvn,\n      label: \"BVN\",\n      maxlength: 11,\n      placeholder: \"BVN\",\n      boxClasses: \"mt-2\",\n      error: errors ? errors.bvn : errorObject && errorObject['bvn'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Textbox, {\n      onChange: this.handleChange,\n      name: \"firstName\",\n      value: firstName,\n      label: \"First name\",\n      placeholder: \"First name\",\n      boxClasses: \"mt-2\",\n      error: errors ? errors.firstName : errorObject && errorObject['firstName'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Textbox, {\n      onChange: this.handleChange,\n      name: \"lastName\",\n      value: lastName,\n      label: \"Last name\",\n      placeholder: \"Last name\",\n      boxClasses: \"mt-2\",\n      error: errors ? errors.lastName : errorObject && errorObject['lastName'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(DateBox, {\n      onChange: date => this.handleChangeDate('dob', date),\n      label: \"Date of birth\",\n      placeholder: \"Date of birth\",\n      name: \"dob\",\n      value: dob,\n      boxClasses: \"mt-2\",\n      error: errors ? errors.dob : errorObject && errorObject['dateOfBirth'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary w-100 mt-3\",\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, \"Submit Credentials\", loading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border spinner-border-white spinner-border-sm ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 19\n      }\n    }))), data && /*#__PURE__*/React.createElement(Alert, {\n      alert: {\n        type: 'success',\n        message: 'Admin will validate your BVN'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 22\n      }\n    }), error && /*#__PURE__*/React.createElement(Alert, {\n      alert: {\n        type: 'danger',\n        message: error\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 23\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const {\n    app: {\n      onboarding: {\n        data,\n        error\n      }\n    }\n  } = state;\n  return {\n    loading: getActionLoadingState(state, actionTypes.CONFIRM_IDENTITY_REQUEST),\n    data,\n    error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    confirmIdentity: (payload, history) => dispatch(confirmIdentity(payload, history))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(VerifyIdentityManually));","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/pages/App/Onboarding/VerifyIdentityManually/index.js"],"names":["React","connect","withRouter","moment","getActionLoadingState","actionTypes","confirmIdentity","Textbox","Alert","DateBox","validateFields","serializeErrors","VerifyIdentityManually","Component","state","bvn","firstName","lastName","errors","dob","handleChange","event","name","value","target","setState","handleChangeDate","item","date","handleSubmit","preventDefault","history","props","data","required","Object","keys","length","payload","dateOfBirth","format","manual","render","error","loading","errorObject","type","message","mapStateToProps","app","onboarding","CONFIRM_IDENTITY_REQUEST","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport moment from 'moment';\nimport { getActionLoadingState } from \"#/store/selectors\";\nimport actionTypes from \"#/store/onboarding/actionTypes\";\nimport { confirmIdentity } from '#/store/onboarding/actions';\nimport Textbox from '#/components/Textbox';\nimport Alert from '#/components/Alert';\nimport DateBox from '#/components/DateBox';\nimport { validateFields, serializeErrors } from '#/utils';\nimport './style.scss';\n\nclass VerifyIdentityManually extends React.Component {\n\n  state = {\n    bvn: '',\n    firstName: '',\n    lastName: '',\n    errors: null,\n    dob: '',\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target\n    this.setState({ [name]: value })\n  }\n\n  handleChangeDate = (item, date) => {\n    this.setState({ [item]: date });\n  }\n\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { confirmIdentity, history } = this.props;\n    const { bvn, firstName, lastName, dob } = this.state;\n\n    this.setState({ errors: null });\n\n    const data = this.state;\n    const required = [ 'firstName', 'lastName', 'bvn', 'dob'];\n    const errors = validateFields(data, required)\n\n    if (Object.keys(errors).length > 0) {\n      return this.setState({ errors });\n    }\n    const payload = { bvn, firstName, lastName, dateOfBirth: moment(dob).format('YYYY-MM-DD'), manual: true };\n    confirmIdentity(payload, history);\n  }\n\n  render() {\n    const { firstName, lastName, bvn, errors, dob } = this.state;\n    const { error, loading, data } = this.props;\n    const errorObject = serializeErrors(error);\n\n    return (\n      <div className=\"verify-identity-manually-page text-center\">\n        <h3>ACCOUNT SETUP</h3>\n        <div className=\"box\">\n          <div className=\"container\">\n            <h3 className=\"mt-3\">BVN Verification</h3>\n            <p>Please enter your BVN credentials</p>\n            <form onSubmit={this.handleSubmit}>\n              <Textbox\n                onChange={this.handleChange}\n                name=\"bvn\"\n                value={bvn}\n                label=\"BVN\"\n                maxlength={11}\n                placeholder=\"BVN\"\n                boxClasses=\"mt-2\"\n                error={errors ? errors.bvn : (errorObject && errorObject['bvn'])}\n              />\n              <Textbox\n                onChange={this.handleChange}\n                name=\"firstName\"\n                value={firstName}\n                label=\"First name\"\n                placeholder=\"First name\"\n                boxClasses=\"mt-2\"\n                error={errors ? errors.firstName : (errorObject && errorObject['firstName'])}\n              />\n              <Textbox\n                onChange={this.handleChange}\n                name=\"lastName\"\n                value={lastName}\n                label=\"Last name\"\n                placeholder=\"Last name\"\n                boxClasses=\"mt-2\"\n                error={errors ? errors.lastName : (errorObject && errorObject['lastName'])}\n              />\n              <DateBox\n                  onChange={date => this.handleChangeDate('dob', date)}\n                  label=\"Date of birth\"\n                  placeholder=\"Date of birth\"\n                  name=\"dob\"\n                  value={dob}\n                  boxClasses=\"mt-2\"\n                  error={errors ? errors.dob : (errorObject && errorObject['dateOfBirth'])}\n                />\n              <button className=\"btn btn-sm btn-primary w-100 mt-3\" disabled={loading}>\n                Submit Credentials\n                {loading &&\n                  <div className=\"spinner-border spinner-border-white spinner-border-sm ml-2\"></div>\n                }\n              </button>\n            </form>\n            {data && <Alert alert={{ type: 'success', message: 'Admin will validate your BVN' }} /> }\n            {error && <Alert alert={{ type: 'danger', message: error }}/>}\n            {/* <div className=\"mt-3\">\n              <Link to='/app/onboarding/verify-identity'><b>Verify BVN automatically</b></Link>\n            </div> */}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const { app: { onboarding: { data, error } } } = state;\n  return {\n    loading: getActionLoadingState(state, actionTypes.CONFIRM_IDENTITY_REQUEST),\n    data,\n    error,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    confirmIdentity: (payload, history) => dispatch(confirmIdentity(payload, history)),\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(VerifyIdentityManually));\n"]},"metadata":{},"sourceType":"module"}