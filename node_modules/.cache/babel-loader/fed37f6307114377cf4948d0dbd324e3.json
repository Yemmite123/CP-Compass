{"ast":null,"code":"var _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/components/MessageItem/index.js\";\nimport React from 'react';\nimport moment from 'moment';\nimport { checkFileType } from '#/utils';\nimport AdminDefault from \"#/assets/icons/admin-default-img.svg\";\nimport DefaultProfile from \"#/assets/icons/profile-icon.svg\";\nimport Attachment from \"#/assets/icons/attachment.svg\";\nimport './style.scss';\n\nclass MessageItem extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.messageRef = React.createRef();\n  }\n\n  componentDidMount() {\n    if (this.props.message) {\n      this.messageRef.current.innerHTML = `${this.props.message.message.replace(/(\\r\\n|\\n|\\r)/gm, \"<br />\")}`;\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.message !== this.props.message) {\n      this.messageRef.current.innerHTML = `${this.props.message.message.replace(/(\\r\\n|\\n|\\r)/gm, \"<br />\")}`;\n    }\n  }\n\n  render() {\n    var _message$attachment, _message$attachment2;\n\n    const {\n      message,\n      viewImage\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: message && (message === null || message === void 0 ? void 0 : message.user.isStaff) ? AdminDefault : (message === null || message === void 0 ? void 0 : message.user.pictureUrl) ? message === null || message === void 0 ? void 0 : message.user.pictureUrl : DefaultProfile,\n      className: \"img-fluid avatar\",\n      alt: \"user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 15\n      }\n    }, message && (message === null || message === void 0 ? void 0 : message.user.isStaff) ? 'Admin' : 'You'), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-small text-grey \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 15\n      }\n    }, message && moment(message.created_at).format('hh:mm A MMM D, YYYY'))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-grey text-small\",\n      ref: this.messageRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, (message === null || message === void 0 ? void 0 : (_message$attachment = message.attachment) === null || _message$attachment === void 0 ? void 0 : _message$attachment.length) > 0 && (message === null || message === void 0 ? void 0 : (_message$attachment2 = message.attachment) === null || _message$attachment2 === void 0 ? void 0 : _message$attachment2.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      key: Math.random() * 1000,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, item && checkFileType(item) === 'image' && /*#__PURE__*/React.createElement(\"img\", {\n      src: item,\n      alt: \"attachment\",\n      className: \"attachment-img img-fluid cursor-pointer\",\n      onClick: () => viewImage(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    }), item && checkFileType(item) === 'file' && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Attachment,\n      alt: \"attachment\",\n      className: \"mr-2 img-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"file-type\",\n      href: item,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 23\n      }\n    }, \"view attachment\")))))))));\n  }\n\n}\n\nexport default MessageItem;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/cpinvest-app/cpinvest-app/src/components/MessageItem/index.js"],"names":["React","moment","checkFileType","MessageItem","Component","messageRef","createRef","componentDidMount","props","message","current","innerHTML","replace","componentDidUpdate","prevProps","render","viewImage","user","isStaff","AdminDefault","pictureUrl","DefaultProfile","created_at","format","attachment","length","map","item","Math","random","Attachment"],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport { checkFileType } from '#/utils';\nimport AdminDefault from '#/assets/icons/admin-default-img.svg';\nimport DefaultProfile from '#/assets/icons/profile-icon.svg';\nimport Attachment from '#/assets/icons/attachment.svg';\nimport './style.scss';\n\nclass MessageItem extends React.Component {\n\n  messageRef = React.createRef();\n\n  componentDidMount() {\n    if(this.props.message) {\n      this.messageRef.current.innerHTML = `${this.props.message.message.replace(/(\\r\\n|\\n|\\r)/gm, \"<br />\")}`\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if(prevProps.message !== this.props.message) {\n      this.messageRef.current.innerHTML = `${this.props.message.message.replace(/(\\r\\n|\\n|\\r)/gm, \"<br />\")}`\n    }\n  }\n\n  render() {\n    const { message, viewImage } = this.props;\n    return (\n      <div className=\"message-item\">\n        <div className=\"d-flex\">\n          <img src={message && message?.user.isStaff ? AdminDefault : (message?.user.pictureUrl ? message?.user.pictureUrl : DefaultProfile)} className=\"img-fluid avatar\" alt=\"user\" />\n          <div className=\"w-100\">\n            <div className=\"d-flex justify-content-between\">\n              <p className=\"text-small\">{message && message?.user.isStaff ? 'Admin' : 'You'}</p>\n              <p className=\"text-small text-grey \">{message && moment(message.created_at).format('hh:mm A MMM D, YYYY')}</p>\n            </div>\n            <p className=\"text-grey text-small\" ref={this.messageRef}></p>\n            <div className=\"d-flex align-items-center\">\n              {message?.attachment?.length > 0 && message?.attachment?.map(item => (\n                <div key={Math.random() * 1000}>\n                  {item && checkFileType(item) === 'image' &&\n                    <img src={item} alt=\"attachment\" className=\"attachment-img img-fluid cursor-pointer\" onClick={() => viewImage(item)} />\n                  }\n                  {item && checkFileType(item) === 'file' &&\n                    <div className=\"d-flex align-items-center\">\n                      <img src={Attachment} alt=\"attachment\" className=\"mr-2 img-fluid\" />\n                      <a className=\"file-type\" href={item} target=\"_blank\" rel=\"noopener noreferrer\">view attachment</a>\n                    </div>\n                  }\n                </div>\n              ))\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MessageItem;\n"]},"metadata":{},"sourceType":"module"}